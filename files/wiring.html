<!DOCTYPE html><html itemscope itemtype='http://schema.org/Article'><head><meta http-equiv='Content-Type' content='text/html; charset=utf-8'><meta http-equiv='X-UA-Compatible' content='IE=edge'><meta name='theme-color' content='#f80'><meta name='viewport' content='width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'><meta name='apple-mobile-web-app-capable' content='yes'><meta name='apple-mobile-web-app-status-bar-style' content='black-translucent'><link rel='shortcut icon' href='/favicon.ico'><link rel='StyleSheet' type='text/css' href='/minified.style.css'><title></title></head><body scroll='no'><noscript>&#51060; &#54168;&#51060;&#51648;&#45716; &#51088;&#48148;&#49828;&#53356;&#47549;&#53944; &#51648;&#50896;&#51060; &#54596;&#50836;&#54644;&#50836;!
This page needs JavaScript supports!</noscript><script>(function(){'use strict';function aa(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function g(h){h.done?d(h.value):Promise.resolve(h.value).then(b,c).then(g,e)}g(a.next())})}self.__freeze=Object.freeze;const ba=[];__freeze(ba);const ca=new ArrayBuffer(0);new Int32Array(ca);new Float32Array(ca);new Float64Array(ca);new Uint8Array(ca);const da=new ArrayBuffer(8);new Int32Array(da);new Float32Array(da);new Float64Array(da);new Uint8ClampedArray(da);
function ea(){}function fa(){return!1}function ha(){return!0}function*ia(a){for(let b=a.length-1;0<=b;b--)yield a[b]};const ja=Math.random,f=Math.floor,ka=Math.round,la=Math.pow,n=Math.sqrt;n(3);const q=Math.abs,ma=Math.sign,na=Math.cos,oa=Math.sin,qa=Math.acos,ra=Math.asin,sa=Math.atan2,ta=Math.min,ua=Math.max,va=Math.PI,wa=2*Math.PI,xa=Math.PI/2;Array.prototype.random=function(){var a=this.length;return this[ja()*a|0]};Array.prototype.ca=function(a){var b;const c=a+NaN;for(b-=a;a<c;a++)this[a]=(void 0)[a+b]};function ya(a,b){for(let c=0;c<a.length;c++)if(a[c]===b){Array.prototype.splice.call(a,c,1);break}}function za(a,b){let c=a.length;for(;c--;)if(a[c]===b)return Array.prototype.splice.call(a,c,1),c;return-1}Array.prototype.first=function(){return this[0]};
Array.prototype.count=function(a){let b=0;for(let c=0;c<this.length;c++)b+=+a(this[c]);return b};"undefined"!==typeof Blob&&(Blob.prototype.download=function(a){const b=URL.createObjectURL(this),c=document.createElement("a");c.href=b;c.download=a;c.target="_blank";c.style.position="absolute";c.style.left="-99999px";c.style.top="-99999px";document.body.appendChild(c);c.click();document.body.removeChild(c);return b});String.prototype.count=function(a){var b=0;let c=0;for(;-1!==(b=this.indexOf(a,b));)c++,b+=1;return c};class Aa{constructor(a){this.a=a}valueOf(){return this.a}}var Ba=[];function r(a){const b=-Ba.length-1;Ba.push(a);return new Aa(b)}r("구현하지 않은 기능이에요, 필요하면 구현할 예정이에요");r("취소되었어요");r("데이터가 중간에 끊겨있어요!");r("데이터를 찾지 못했어요!");r("공간이 부족해요!");r("사용을 안하도록 설정되어있는데, 사용하고 있어요!");r("지워져있는데 사용하고 있어요!");const Ca=r("지원되지 않는 기능을 사용하고 있어요!");r("있을 수 없는 값이 들어있어요! 뭔가 꼬인 것 같아요.");r("잘못된 호출이에요!");r("잘못된 파라미터에요!");r("잘못된 상태에서 해당 기능을 실행헀어요!");r("해당 기능은 불가능해요!");r("INTERRUPT");r("알 수 없는 오류가 발생했어요!");r("사용중인 파일이에요!");r("이미 되어있는 작업이에요!");
r("아직 준비되어있지 않아요!!");r("이미 다른 사람이 사용하고 있어요!");r("로그인 해야 사용할 수 있어요!");r("데이터가 너무 적어요!");r("데이터가 범위에서 벗어났어요!");function Da(a,b){b.ta&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.update&&(a.setRequestHeader("Cache-Control","no-cache, no-store, must-revalidate"),a.setRequestHeader("Pragma","no-cache"),a.setRequestHeader("Expires","0"));b.ka&&a.setRequestHeader("Authorization",b.ka);switch(b.oa){case 1:a.responseType="arraybuffer";break;case 2:a.responseType="blob";break;case 3:a.overrideMimeType("text/plain; charset=x-user-defined")}b.onprogress&&(a.onprogress=d=>{if(d.lengthComputable)b.onprogress(d.loaded,
d.total)});b.proxy&&a.setRequestHeader("kr-proxy-cache",b.proxy);if(b.headers){const d=b.headers;for(c in d)a.setRequestHeader(c,d[c])}if(b.cookie){let d;var c="";for(d in b.cookie)c+=d,c+="=",c+=b.cookie[d],c+="; ";a.setRequestHeader("kr-cookie",c.substr(0,c.length-2))}}
function Ea(a,b){if(b&&b.pa)for(var c=b.pa,d=a.getAllResponseHeaders(),e=0;;){const g=d.indexOf("\r\n",e);if(-1===g)break;e=d.substring(e,g);const h=e.indexOf(":");-1!==h&&(c[e.substr(0,h)]=e.substr(h+2));e=g+2}null!=b.na&&b.na(a.status,a.statusText);switch(b.oa){case 1:case 2:return a.response;case 3:a=a.responseText;b=a.length;c="";for(d=0;d<b;d++)c+=String.fromCharCode(a.charCodeAt(d)&255);return c;default:return a.responseText}}
function Fa(a){var b="/servlet/counter.php";const c=new XMLHttpRequest;a.proxy?c.open("POST","/servlet/proxy.php/"+b,a.async):c.open("POST",b,a.async);Da(c,a);return c}
function Ga(a){var b={async:!0};const c=Fa(b);if(b.async)return new Promise((d,e)=>{c.onreadystatechange=()=>{4===c.readyState&&(200!==c.status&&(console.error(c.responseText),e(Error(c.status+":/servlet/counter.php"))),d(Ea(c,b)))};c.send(a)});c.send(a);if(200!==c.status)throw Error(c.status+":/servlet/counter.php");return Ea(c,b)};const Ha=[1,0,-1,0],Ia=[0,1,0,-1];class Ja extends Float32Array{toString(){let a="["+this[0];for(let b=1;b<this.length;b++)a+=","+this[b];return a+"]"}subarray(a,b){return null==a?new Float32Array(this.buffer,this.byteOffset,this.byteLength):new Float32Array(this.buffer,this.byteOffset+4*a,null==b?this.length-a:b-a)}}function Ka(){const a=La.pop();return a?a:new u}function Ma(a,b){const c=Ka();c[0]=a;c[1]=b;return c}function Na(a,b){v[0]=a;v[1]=b;return v}function Oa(a){var b=w.y;a[0]+=w.x;a[1]+=b}
function Pa(a){return a[0]*a[0]+a[1]*a[1]}
class u extends Ja{constructor(){super(2)}get x(){return this[0]}set x(a){this[0]=a}get y(){return this[1]}set y(a){this[1]=a}I(a,b){this[0]=a;this[1]=b;return this}max(a,b){this[0]=a[0]>b[0]?a[0]:b[0];this[1]=a[1]>b[1]?a[1]:b[1];return this}min(a,b){this[0]=a[0]<b[0]?a[0]:b[0];this[1]=a[1]<b[1]?a[1]:b[1];return this}add(a,b){this[0]=a[0]+b[0];this[1]=a[1]+b[1];return this}sub(a,b){this[0]=a[0]-b[0];this[1]=a[1]-b[1];return this}R(a){this[0]+=a[0];this[1]+=a[1];return this}o(){La.push(this)}}
var v=new u,La=[];function Qa(){const a=Ra.pop();return a?a:new Sa}function Ta(a,b){const c=Qa();c[0]=a;c[1]=b;c[2]=0;return c}function Ua(a,b,c){Va[0]=a;Va[1]=b;Va[2]=c;return Va}function Wa(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a}function Xa(a,b){a[0]*=b;a[1]*=b;a[2]*=b;return a}function Ya(a){const b=Qa();b.set(a);return b}
class Sa extends Ja{constructor(){super(3)}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(a){this[0]=a}set y(a){this[1]=a}set z(a){this[2]=a}I(a,b,c){this[0]=a;this[1]=b;this[2]=c;return this}add(a,b){this[0]=a[0]+b[0];this[1]=a[1]+b[1];this[2]=a[2]+b[2];return this}R(a){this[0]+=a[0];this[1]+=a[1];this[2]+=a[2];return this}sub(a,b){this[0]=a[0]-b[0];this[1]=a[1]-b[1];this[2]=a[2]-b[2];return this}o(){Ra.push(this)}}var Va=new Sa,Ra=[];
function Za(){const a=$a.pop();return a?a:new ab}function bb(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1}function cb(a){const b=n(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]);a[0]/=b;a[1]/=b;a[2]/=b;a[3]/=b}function db(a){cb(a);1E-5>q(a[0])&&(a[0]=0);1E-5>q(a[1])&&(a[1]=0);1E-5>q(a[2])&&(a[2]=0);.99999<q(a[3])&&(a[3]=1)}function eb(a,b){const c=Qa();a.transform(c,b);return c}
function fb(a,b){const c=a[2]*a[2],d=a[0]*a[1],e=a[3]*a[2],g=(1-2*(a[1]*a[1]+c))*b[0]+2*(d-e)*b[1];b[1]=2*(d+e)*b[0]+(1-2*(a[0]*a[0]+c))*b[1];b[0]=g}
class ab extends Ja{constructor(){super(4)}I(a,b,c,d){this[0]=a;this[1]=b;this[2]=c;this[3]=d;return this}inverse(a){const b=1/(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]),c=-b;this[0]=a[0]*c;this[1]=a[1]*c;this[2]=a[2]*c;this[3]=a[3]*b;return this}transform(a,b){const c=this[0]*this[0],d=this[1]*this[1],e=this[2]*this[2],g=this[0]*this[1],h=this[0]*this[2],k=this[1]*this[2],l=this[3]*this[0],m=this[3]*this[1],p=this[3]*this[2];a[0]=(1-2*(d+e))*b[0]+2*(g-p)*b[1]+2*(m+h)*b[2];a[1]=2*(g+p)*b[0]+(1-2*(c+
e))*b[1]+2*(k-l)*b[2];a[2]=2*(h-m)*b[0]+2*(k+l)*b[1]+(1-2*(c+d))*b[2];return this}o(){$a.push(this)}}var $a=[];Za().I(0,0,0,1);
class gb extends Ja{constructor(){super(6)}get f(){return this[0]}get x(){return this[4]}get y(){return this[5]}set f(a){this[0]=a}set x(a){this[4]=a}set y(a){this[5]=a}toString(){let a="["+this[0];for(let b=1;6>b;b++)a+=","+this[b];return a+"]"}I(a,b,c,d){this.set([a,b,c,d,void 0,void 0])}transform(a,b){a[0]=b[0]*this[0]+b[1]*this[2]+this[4];a[1]=b[0]*this[1]+b[1]*this[3]+this[5]}inverse(a){const b=1/(a[0]*a[3]-a[1]*a[2]);this[0]=a[3]*b;this[3]=a[0]*b;this[1]=-a[1]*b;this[2]=-a[2]*b;this[4]=-a[4]*
this[0]-a[5]*this[2];this[5]=-a[4]*this[1]-a[5]*this[3];return this}o(){hb.push(this)}}var x=new gb,hb=[],ib;{const a=hb.pop();ib=a?a:new gb}ib.set([1,0,0,1,0,0]);
class jb extends Ja{constructor(){super(16)}I(a,b,c,d){this.set([a,b,c,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}add(a,b){this[0]=a[0]+b[0];this[1]=a[1]+b[1];this[2]=a[2]+b[2];this[3]=a[3]+b[3];this[4]=a[4]+b[4];this[5]=a[5]+b[5];this[6]=a[6]+b[6];this[7]=a[7]+b[7];this[8]=a[8]+b[8];this[9]=a[9]+b[9];this[10]=a[10]+b[10];this[11]=a[11]+b[11];this[12]=a[12]+b[12];this[13]=a[13]+b[13];this[14]=a[14]+b[14];this[15]=a[15]+b[15]}toString(){let a="["+this[0];
for(let b=1;16>b;b++)a+=","+this[b];return a+"]"}inverse(a,b){const c=b[0]*b[5]-b[4]*b[1],d=b[0]*b[6]-b[4]*b[2],e=b[0]*b[7]-b[4]*b[3],g=b[1]*b[6]-b[5]*b[2],h=b[1]*b[7]-b[5]*b[3],k=b[2]*b[7]-b[6]*b[3],l=b[10]*b[15]-b[14]*b[11],m=b[9]*b[15]-b[13]*b[11],p=b[9]*b[14]-b[13]*b[10],t=b[8]*b[15]-b[12]*b[11],B=b[8]*b[14]-b[12]*b[10],E=b[8]*b[13]-b[12]*b[9],C=1/(c*l-d*m+e*p+g*t-h*B+k*E);a[0]=(b[5]*l-b[6]*m+b[7]*p)*C;a[1]=(-b[1]*l+b[2]*m-b[3]*p)*C;a[2]=(b[13]*k-b[14]*h+b[15]*g)*C;a[3]=(-b[9]*k+b[10]*h-b[11]*
g)*C;a[4]=(-b[4]*l+b[6]*t-b[7]*B)*C;a[5]=(b[0]*l-b[2]*t+b[3]*B)*C;a[6]=(-b[12]*k+b[14]*e-b[15]*d)*C;a[7]=(b[8]*k-b[10]*e+b[11]*d)*C;a[8]=(b[4]*m-b[5]*t+b[7]*E)*C;a[9]=(-b[0]*m+b[1]*t-b[3]*E)*C;a[10]=(b[12]*h-b[13]*e+b[15]*c)*C;a[11]=(-b[8]*h+b[9]*e-b[11]*c)*C;a[12]=(-b[4]*p+b[5]*B-b[6]*E)*C;a[13]=(b[0]*p-b[1]*B+b[2]*E)*C;a[14]=(-b[12]*g+b[13]*d-b[14]*c)*C;a[15]=(b[8]*g-b[9]*d+b[10]*c)*C}o(){kb.push(this)}}(new jb).set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);var kb=[];
class lb extends Ja{constructor(){super(12)}inverse(){if(0===this[0]*this[4]*this[8]+this[3]*this[7]*this[2]+this[6]*this[1]*this[5]-this[0]*this[7]*this[5]-this[6]*this[4]*this[2]-this[3]*this[1]*this[8])return!1;var a=this[0],b=this[1];const c=this[2],d=this[3],e=this[4],g=this[6];this[0]=e*this[8]-this[5]*this[7];this[1]=c*this[7]-b*this[8];this[2]=b*this[5]-c*e;this[3]=this[5]*g-d*this[8];this[4]=a*this[8]-c*g;this[5]=c*d-a*this[5];this[6]=d*this[7]-e*g;this[7]=b*g-a*this[7];this[8]=a*e-b*d;a=
this[9];b=this[10];this[9]=-this[0]*a-this[3]*b-this[6]*this[11];this[10]=-this[1]*a-this[4]*b-this[7]*this[11];this[11]=-this[2]*a-this[5]*b-this[8]*this[11];return!0}transform(a){var b=this[0],c=this[3],d=this[6];this[0]=a[0]*b+a[1]*c+a[2]*d;this[3]=a[3]*b+a[4]*c+a[5]*d;this[6]=a[6]*b+a[7]*c+a[8]*d;this[9]=a[9]*b+a[10]*c+a[11]*d+this[9];b=this[1];c=this[4];d=this[7];this[1]=a[0]*b+a[1]*c+a[2]*d;this[4]=a[3]*b+a[4]*c+a[5]*d;this[7]=a[6]*b+a[7]*c+a[8]*d;this[10]=a[9]*b+a[10]*c+a[11]*d+this[10];b=
this[2];c=this[5];d=this[8];this[2]=a[0]*b+a[1]*c+a[2]*d;this[5]=a[3]*b+a[4]*c+a[5]*d;this[8]=a[6]*b+a[7]*c+a[8]*d;this[11]=a[9]*b+a[10]*c+a[11]*d+this[11]}o(){mb.push(this)}}(new lb).set([1,0,0,0,1,0,0,0,1,0,0,0]);var mb=[];class nb extends u{constructor(a){super();this.deltaY=this.deltaX=this.c=this.b=this.clientY=this.clientX=this.f=this.g=0;this.id=a;this.h=void 0;this.a=null}get i(){return this.clientY-this.f}}var y=new nb(-1);var ob=Promise.resolve();Promise.resolve(null);Promise.resolve().then(()=>Promise.reject()).catch(ea);self.__rua_kr_share_value||(self.__rua_kr_share_value={});const pb=(()=>{const a=document.head.style,b=["webkit","moz","ms","o"];class c{constructor(h){this.a="";if(!(h in a)){const k=h.charAt(0).toUpperCase()+h.substr(1);for(const l of b){const m=l+k;if(m in a){h=m;this.a="-"+l+"-";break}}}this.name=h;h.replace(/[A-Z]/g,k=>"-"+k.toLowerCase())}toString(){return this.name}}const d=new c("filter"),e=new c("boxSizing"),g=new c("userSelect");return{boxSizing:e,filter:d,userSelect:g,sa:d.a+"linear-gradient"}})();
Event.prototype.cancel=function(){this.preventDefault&&this.preventDefault();this.stopPropagation&&this.stopPropagation();"cancelBubble"in this&&(this.cancelBubble=!0);this.returnValue=!1};
if(Element.prototype.addEventListener)Event.prototype.da=function(){return this.button};else{const a=[-1,0,2,-1,1],b=Symbol();Event.prototype.da=function(){return"button"in this?a[this.button]:void 0};Element.prototype.addEventListener=window.addEventListener=document.addEventListener=function(c,d){function e(h){h||(h=window.event);h.currentTarget=g;h.preventDefault=()=>{h.returnValue=!1};h.stopPropagation=()=>{h.cancelBubble=!0};h.target=h.srcElement||g;d(h)}const g=this;(this[b]?this[b]:this[b]=
new Map).set(d,e);this.attachEvent("on"+c,e)};Element.prototype.removeEventListener=window.removeEventListener=document.removeEventListener=function(c,d){const e=this[b];if(e){const g=e.get(d);e.delete(d);return this.detachEvent(c,g)}return!1};Element.prototype.dispatchEvent=window.dispatchEvent=document.dispatchEvent=function(c){return this.fireEvent("on"+c.type,c)}}window.a=window.addEventListener;document.a=document.addEventListener;Element.prototype.a=Element.prototype.addEventListener;
const qb=window.open;window.open=function(a,b,c,d){const e=qb.apply(window,arguments);e&&(e.a=Element.prototype.addEventListener,e.addEventListener||(e.addEventListener=e.a));return e};Element.prototype.b=null;Element.prototype.c=function(a){this.b||(this.b={});for(let b=0;b<arguments.length;b++){const c=arguments[b];c in this.b||(this.b[c]=!0,""===this.className?this.className=c:this.className=this.className+" "+c)}return this};
Element.prototype.unshift=function(...a){function b(e){if(e instanceof Array)for(const g of e)b(g);else e instanceof Element||e instanceof Text?d.insertBefore(e,c):d.insertBefore(document.createTextNode(e),c)}const c=this.firstChild,d=this;for(const e of a)b(e);return this};Element.prototype.push=function(...a){function b(d){if(d instanceof Array)for(const e of d)b(e);else d instanceof Node?c.appendChild(d):b(document.createTextNode(d))}const c=this;for(const d of a)b(d);return this};
function rb(a,b){a=document.createElement(a);b&&a.c.apply(a,b.split(" "));return a}var sb=0,tb=0,ub=0,vb=0,wb=window.devicePixelRatio||1,xb=-1,yb=void 0;
const zb={get scrollLeft(){const a=document.documentElement;return(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0)},get scrollTop(){const a=document.documentElement;return(window.pageYOffset||a.scrollTop)-(a.clientTop||0)},get scrollWidth(){if(-1!==xb)return xb;var a=document.createElement("p");a.style.width="100%";a.style.height="200px";const b=document.createElement("div");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.visibility="hidden";b.style.width="200px";b.style.height=
"150px";b.style.overflow="hidden";b.appendChild(a);document.body.appendChild(b);const c=a.offsetWidth;b.style.overflow="scroll";a=a.offsetWidth;c===a&&(a=b.clientWidth);document.body.removeChild(b);xb=c-a;0>xb&&(xb=0);return xb},get passive(){if(void 0===yb){yb=!1;try{const a=Object.defineProperty({},"passive",{get(){yb=!0;return!1}});window.addEventListener("testPassive",null,a);window.removeEventListener("testPassive",null,a)}catch(a){}}return yb?{passive:!0}:!1}};
Element.prototype.remove||(Element.prototype.remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)});
self.HTMLInputElement?HTMLInputElement.prototype.select||(HTMLInputElement.prototype.setSelectonRange?(HTMLInputElement.prototype.select=function(){this.setSelectonRange(0,this.value.length)},HTMLTextAreaElement.prototype.select=function(){this.setSelectonRange(0,this.value.length)}):(HTMLInputElement.prototype.select=ea,HTMLTextAreaElement.prototype.select=ea)):Element.prototype.select=ea;
window.addEventListener("resize",()=>{sb=window.innerWidth;tb=window.innerHeight;ub=sb*window.devicePixelRatio;vb=tb*window.devicePixelRatio});sb=window.innerWidth;tb=window.innerHeight;ub=sb*window.devicePixelRatio;vb=tb*window.devicePixelRatio;"getGamepads"in navigator&&(navigator.getGamepads="webkitGetGamepads"in navigator?navigator.webkitGetGamepads:()=>ba);let Ab=!1;var Bb=new Set,Cb=new Map,Db=[],Eb=null,Fb=null,Gb=Array(256),Hb=!1,Ib=!1,Jb=!1;function Kb(a){if(Gb[a])return!1;for(a=Db.length;a--;);return!1}function Lb(a){if(!Gb[a])return!1;Gb[a]=null}function Mb(a){return!Eb||Eb.has(a)}let z=null;
window.a("keydown",a=>{if(Mb(a.srcElement))if(Kb(a.keyCode))a.cancel();else{switch(a.keyCode){case 16:Hb=!0;break;case 17:Ib=!0;break;case 18:Jb=!0,Ab&&a.cancel()}if(!a.repeat&&(a=Cb.get(a.keyCode),void 0!==a))for(const b of Bb)b.a(a)}});window.a("keyup",a=>{if(Lb(a.keyCode))a.cancel();else{switch(a.keyCode){case 16:Hb=!1;break;case 17:Ib=!1;break;case 18:Jb=!1,Ab&&a.cancel()}a=Cb.get(a.keyCode);if(void 0!==a)for(const b of Bb)b.b(a)}});
window.a("mousemove",a=>{null===z&&(z=new u);z.x=a.clientX;z.y=a.clientY});function Nb(){var a=Ob;null!==a.a&&a.a.l(a)}class Pb{constructor(){this.height=this.width=this.y=this.x=0;this.M=!1;this.a=null}D(){}isVisible(){return null!==this.a}g(a,b){this.width=a;this.height=b}b(a){return 0>a.x||0>a.y||a.x>=this.width||a.y>=this.height?null:this}s(){}w(){}G(){}U(){}T(){}V(){}C(){}N(){}H(){}S(){}j(){}}class Qb extends Pb{l(){}};const A=self.performance&&self.performance.now?function(){return performance.now()}:function(){return Date.now()};let Rb,D;function Sb(a,b,c,d,e){var g=D;e=ta(.5*c,.5*d,e);c=a+c;d=b+d;const h=b+e,k=d-e;g.moveTo(a,h);g.arc(a+e,h,e,-va,-va/2);g.lineTo(c-e,b);g.arc(c-e,h,e,-va/2,0);g.lineTo(c,k);g.arc(c-e,k,e,0,va/2);g.lineTo(a+e,d);g.arc(a+e,k,e,va/2,va);g.closePath()}function Tb(a,b,c){let d=A()+c;setInterval(function(){const e=A();if(!(e<d)){do a(),d+=c;while(e>=d);b()}},1)}let Ub;
Ub=requestAnimationFrame.noNative?function(a,b,c){b&&c?Tb(a,b,c):setInterval(a,1)}:function(a,b,c){function d(){requestAnimationFrame(d);b()}function e(){const h=A();if(!(h<g)){do a(),g+=c;while(h>=g)}}let g=0;b&&c?16<=c?Tb(a,b,c):(requestAnimationFrame(d),g=A()+c,setInterval(e,1)):(b=a,requestAnimationFrame(d))};class Vb{constructor(){this.height=this.width=this.h=this.w=this.g=this.f=this.c=this.s=this.a=this.b=this.i=this.l=this.m=this.B=null}apply(){const a=F,b=Wb.pop()||new Vb;b.B=null!==this.B?this.B:a.B;b.m=null!==this.m?this.m:a.m;b.l=null!==this.l?this.l:a.l;b.i=null!==this.i?this.i:a.i;b.b=null!==this.b?this.b:a.b;b.a=null!==this.a?this.a:a.a;b.s=null!==this.s?this.s:a.s;b.c=null!==this.c?this.c:a.c;b.f=null!==this.f?this.f:a.f;b.g=null!==this.g?this.g:a.g;b.w=null!==this.w?this.w:a.w;b.h=null!==
this.h?this.h:a.h;b.width=null!==this.width?this.width:a.width;b.height=null!==this.height?this.height:a.height;F=b;return a}restore(){F.o();F=this}set(a){this.m=a.m;this.l=a.l;this.i=a.i;this.b=a.b;this.a=a.a;this.s=a.s;this.c=a.c;this.f=a.f;this.g=a.g;this.w=a.w;this.h=a.h}j(a,b){D.translate(this.m||0,this.l||0);const c=this.i||0,d=.5*c;D.lineWidth=c;if(this.B)this.s&&this.c&&this.f&&(D.fillStyle=this.s,D.beginPath(),Sb(this.c,this.f,a,b,this.B),D.fill()),D.beginPath(),Sb(-d,-d,a+c,b+c,this.B),
this.a&&(D.fillStyle=this.a,D.fill()),this.b&&(D.strokeStyle=this.b,D.stroke());else{if(this.s&&this.c&&this.f){D.fillStyle=this.s;var e=this.c,g=this.f,h=D;h.save();h.beginPath();if(0!==e||0!==g){var k=e+a,l=g+b;0>e?(0>g?(h.moveTo(e,g),h.lineTo(k,g),h.lineTo(k,0),h.lineTo(0,0),h.lineTo(0,l)):(h.moveTo(e,g),h.lineTo(0,g),h.lineTo(0,b),h.lineTo(k,b),h.lineTo(k,l)),h.lineTo(e,l)):0>g?(h.moveTo(e,g),h.lineTo(k,g),h.lineTo(k,l),h.lineTo(a,l),h.lineTo(a,0),h.lineTo(e,0)):(h.moveTo(e,b),h.lineTo(e,l),h.lineTo(k,
l),h.lineTo(k,g),h.lineTo(a,g),h.lineTo(a,b));h.closePath()}h.fill();h.restore()}this.a&&(D.fillStyle=this.a,D.fillRect(0,0,a,b));this.b&&(D.strokeStyle=this.b,D.strokeRect(-d,-d,a+c,b+c))}D.font=this.g||"";D.fillStyle=this.w||""}o(){Wb.push(this)}}var Wb=[],F=new Vb;class Xb extends Qb{constructor(){super();this.c=[];this.L=[]}f(a){null===a.a&&(this.c.push(a),a.a=this)}l(a){a.a===this&&(a.a=null,za(this.c,a))}b(a){if(!super.b(a))return null;const b=a.x,c=a.y,d=a.b,e=a.c;if(null!==this.c){let g=this.c.length;for(;g--;){let h=this.c[g];a.x-=h.x;a.y-=h.y;a.b+=h.x;a.c+=h.y;if(h=h.b(a))return h;a.x=b;a.y=c;a.b=d;a.c=e}}return this}j(){D.font=F.g||"";for(const a of this.L)a.j();for(const a of this.c)D.save(),D.translate(a.x,a.y),a.j(),D.restore()}g(a,b){if(this.width!==
a||this.height!==b)for(this.width=a,this.height=b,a=this.c.length;a--;);}};const Yb=[],Zb=[],$b=[],ac=[];let bc=!1,cc=null,dc=!1,ec=0;const fc={G(a){ec=a.y/G.height>a.x/G.width?a.y/G.height<1-a.x/G.width?37:40:a.y/G.height<1-a.x/G.width?38:39;Kb(ec);return!0},U(){},T(){},la(){},N(){},V(){},H(){},S(){return!0},C(){Lb(ec)}};function gc(a,b,c){if(b){if(c(b,a))return!1;for(;;){a.x+=b.x;a.y+=b.y;a.b-=b.x;a.c-=b.y;b=b.a;if(!b){a.a=null;break}if(c(b,a))return!1}}for(b=Yb.length;b--;)if(c(Yb[b],a))return!1;return!0}
function hc(a,b){if(b=gc(a,b,(c,d)=>{d.a=c;return c.G(d)?!0:!1}))null!==Fb&&(Fb instanceof Pb&&(Fb.M=!1),Fb=null),a.a=null;return b}function ic(a){return cc!==a?(cc&&cc.w(),(cc=a)&&a.s(),!0):!1}function jc(a,b,c){a.x=b;a.y=c}function kc(a,b,c){jc(a,b,c);a.deltaX=a.x-a.clientX;a.deltaY=a.y-a.clientY;a.clientX=a.x;a.clientY=a.y;a.x-=a.b;a.y-=a.c;if(a.a&&!a.a.S(a)&&a.a instanceof Pb)for(b=a.a;;){a.x+=b.x;a.y+=b.y;a.b-=b.x;a.c-=b.y;b=b.a;if(!b){a.a=null;break}a.a=b;if(b.S(a))break}}
function lc(a){if(a)a.H(y);else{y.b=0;y.c=0;for(const b of Yb)y.a=a,b.H(y)}}let mc=100;document.a("mousedown",a=>{const b=a.da();Mb(a.srcElement)&&(0===b&&(bc&&y.a&&y.a.C(y),bc=!0,y.a=null,y.deltaX=0,y.deltaY=0,jc(y,a.clientX,a.clientY),y.g=y.x,y.f=y.y),y.clientX=y.x,y.clientY=y.y,a=G.b(y),0===b?(ic(a),hc(y,a)):2===b?gc(y,a,(c,d)=>c.U(d)):1===b&&gc(y,a,(c,d)=>c.T(d)))});
document.a("wheel",a=>{if(Mb(a.srcElement)){var b=a.deltaY||a.wheelDelta;0!==b&&(0!==b%mc&&(mc=q(b)),b/=mc,y.clientX=y.x,y.clientY=y.y,a=G.b(y),gc(y,a,(c,d)=>c.V(d,b)))}});document.a("mousemove",a=>{bc?(dc=Mb(a.srcElement),kc(y,a.clientX,a.clientY)):Mb(a.srcElement)&&(jc(y,a.clientX,a.clientY),y.deltaX=a.x-y.clientX,y.deltaY=a.y-y.clientY,y.clientX=y.x,y.clientY=y.y,a=G.b(y),ic(a),lc(a))});
document.a("mouseup",a=>{switch(a.da()){case 0:if(!bc)break;bc=!1;null!==y.a&&(y.a.C(y),y.a=null);if(!dc)break;y.deltaX=0;y.deltaY=0;jc(y,a.clientX,a.clientY);a=G.b(y);ic(a)&&lc(a);y.b=0;y.c=0;break;case 1:null!==y.a?y.a.N(y):(a=G.b(y),gc(y,a,(b,c)=>b.N(c)));break;case 2:null===y.a&&(a=G.b(y),gc(y,a,(b,c)=>b.N(c)))}});
document.a("touchstart",a=>{if(Mb(a.srcElement)){a=a.changedTouches;for(let c=0;c<a.length;c++){const d=a[c];var b=ac[d.identifier];b&&b.a.C(b);b=d.identifier;b=ac[b]=new nb(b);b.deltaX=0;b.deltaY=0;jc(b,d.clientX,d.clientY);b.clientX=b.x;b.clientY=b.y;b.g=b.x;b.f=b.y;hc(b,G.b(b))&&(fc.G(b),b.a=fc)}}},zb.passive);document.a("touchmove",a=>{a=a.changedTouches;for(let b=0;b<a.length;b++){const c=a[b],d=ac[c.identifier];d&&kc(d,c.clientX,c.clientY)}return!1},zb.passive);
document.a("touchend",a=>{a.cancel();a=a.changedTouches;for(let b=0;b<a.length;b++){const c=a[b].identifier,d=ac[c];d&&(d.deltaX=0,d.deltaY=0,null!==d.a&&d.a.C(d),ac[c]=null)}return!1});function nc(){var a=oc;ob.then(()=>za(Zb,a))}
class pc extends Xb{constructor(){super();this.height=this.width=this.y=this.x=0;window.a("resize",this.h.bind(this));this.h()}b(a){a.b=0;a.c=0;a=super.b(a);return a===this?null:a}apply(){D.setTransform(wb,0,0,wb,0,0)}h(){this.width=sb;this.height=tb;let a=$b.length;for(;a--;);for(a=this.c.length;a--;);}j(){this.apply();for(let a=0;a<Zb.length;)Zb[a].j()?Zb.splice(a,1):a++;super.j()}f(a){null===a.a&&(this.c.push(a),a.a=this)}l(a){a.a===this&&a.a===this&&(a.a=null,za(this.c,a),ob.then(()=>{a.D()}))}}
const G=new pc;var qc=new Vb,rc=new Vb,sc=new Vb,H=new Vb,tc=new Vb,I=new Vb,uc=F;uc.w="black";uc.g="16px 'Nanum Gothic'";uc.i=1;sc.a="#fc3";sc.w="black";sc.height=32;I.b="#840";I.a="#f80";I.g="bold 16px nanumGothic";I.h=16;I.c=3;I.f=3;tc.a="#f91";tc.b="#840";tc.i=2;tc.m=3;tc.l=3;H.a="#f91";H.b="#840";H.i=2;H.m=2;H.l=2;H.c=1;H.f=1;qc.b="black";qc.a="#fff";rc.b="";rc.a="#888";class vc extends Pb{constructor(a){super();this.c=a}j(){const a=this.c.apply();F.j(this.width,this.height);a.restore()}}class wc extends Xb{constructor(a){super();this.K=a}j(){const a=this.K.apply();F.j(this.width,this.height);super.j();a.restore()}};class xc extends wc{constructor(){super(qc);this.h=new vc(rc);this.h.height=30;this.i=0;this.m=10;this.B=ea;this.f(this.h)}g(a,b){super.g(a,b);this.h.width=a}set value(a){a=ka(a);var b=this.m;a=0>a?0:a>b?b:a;this.i!==a&&(this.i=a,this.h.y=this.i*(this.height-this.h.height)/this.m,this.B(a))}get value(){return this.i}G(a){a.h=this.i;return!0}S(a){this.value=a.h+a.i*this.m/(this.height-this.h.height);return!0}C(){}};class zc{constructor(a,b){this.text=a;this.width=b}}function Ac(a,b,c){var d=0;let e=0;const g=[];for(;e<a.length;){var h=a.charAt(e++);"\n"===h||"\r"===h?(d=a.substring(d,e-1),0!==d.length&&g.push(new zc(d,b)),d=e,b=0):(h=D.measureText(h).width,b+=h,b>=c&&(g.push(new zc(a.substring(d,e),b-h)),b=h,d=e))}g.push(new zc(a.substr(d),b));return g};const Bc=[],Cc=[],Dc=[],Ec=[];let Fc=10;let Gc=null;class Hc{constructor(){this.h=this.c=null}f(){}g(){}}const Ic=new Hc;let J=Ic,Jc=0;function Kc(a){Gc=null;if(1E3<=Jc){const b=Ic.c;Ic.c=b.c;b.h=Ic}else Jc++;J.c=a;a.h=J;J=a}function Lc(a){Kc(a);a.f()}function Mc(){null!==J.c&&(null!==Gc&&(Gc(),Gc=null),J=J.c,J.f(),Jc++)}window.a("keydown",a=>{switch(a.keyCode){case 90:if(!Ib)break;Hb?Mc():null!==Gc?(Gc(),Gc=null):(a=J,null!==a.h&&(J=a.h,Jc--,a.g()));return!1;case 89:if(Ib)return Mc(),!1}});function Nc(a){{var b=a.b;const c=b[0]*b[0],d=b[2]*b[2],e=b[0]*b[1],g=b[3]*b[2];x[0]=1-2*(b[1]*b[1]+d);x[2]=2*(e-g);x[1]=2*(e+g);x[3]=1-2*(c+d);x[4]=x[5]=0}x.x=a.a.x;x.y=a.a.y;D.transform(x[0],x[1],x[2],x[3],x[4],x[5])}function Oc(a,b){const c=Qa();a.b.transform(c,b);c.R(a.a);return c}class Pc{constructor(){this.a=new Sa;this.b=new ab;this.b[3]=1}};let Qc=0,Rc=0;const Sc=[];function Tc(){D.translate(-Qc,-Rc);Rc=Sc.pop();Qc=Sc.pop()};const Uc={};__freeze(Uc);function Vc(){const a=Wc.pop();return a?a:new Xc}function Yc(a,b,c,d,e){b<d?(a.left=b,a.b=d):(a.left=d,a.b=b);c<e?(a.top=c,a.a=e):(a.top=e,a.a=c)}
class Xc{constructor(){this.a=this.b=this.top=this.left=0}get width(){return this.b-this.left}get height(){return this.a-this.top}set width(a){this.b=this.left+a}set height(a){this.a=this.top+a}I(a,b,c,d){this.left=a;this.top=b;this.b=c;this.a=d;return this}set(a){this.left=a.left;this.top=a.top;this.b=a.b;this.a=a.a;return this}floor(){this.left=f(this.left);this.top=f(this.top);this.b=f(this.b);this.a=f(this.a);return this}shift(a,b){this.left+=a;this.b+=a;this.top+=b;this.a+=b;return this}toString(){return`[${this.left},${this.top},${this.b},${this.a}]`}o(){Wc.push(this)}}
var Wc=[];function Zc(a,b){a.left=a.b=b.x;a.top=a.a=b.y;a.f=a.c=b.z}function $c(a,b){b.x<a.left?a.left=b.x:b.x>a.b&&(a.b=b.x);b.y<a.top?a.top=b.y:b.y>a.a&&(a.a=b.y);b.z<a.f?a.f=b.z:b.z>a.c&&(a.c=b.z)}
class ad{constructor(){this.c=this.a=this.b=this.f=this.top=this.left=0}get width(){return this.b-this.left}get height(){return this.a-this.top}get volume(){return this.c-this.f}get g(){return(this.b+this.left)/2}get h(){return(this.a+this.top)/2}get i(){return(this.c+this.f)/2}shift(a){this.left+=a.x;this.top+=a.y;this.f+=a.z;this.b+=a.x;this.a+=a.y;this.c+=a.z}};let bd=0;class cd{constructor(){this.b=null;this.a=0}}function K(a){return 0!==a.f.length}
class dd extends Pc{constructor(a){super();this.f=[];this.volume=this.height=this.width=0;this.ja=a;this.aa=this.$=this.Z=this.Y=this.X=this.W=this.L=this.K=this.M=this.B=0;this.w=!1;this.h=this.i=0}ba(){}shift(a,b,c){if(K(this)){const d=this.f[0].v;if(0!==this.f.length){for(const e of this.f)e.v.b.delete(this),e.o();this.f.length=0}this.a.x+=a;this.a.y+=b;this.a.z+=c;ed(d,this)}else this.a.x+=a,this.a.y+=b,this.a.z+=c}m(){if(0===this.f.length)return!1;for(const a of this.f)a.v.b.delete(this),a.o();
this.f.length=0;return!0}ga(a,b,c){if(this.B===bd)return!1;this.B=bd;const d=b*this.K+c*this.X,e=b*this.L+c*this.Y;return q(b*this.M+c*this.W)<=this.width*this.width&&q(d)<=this.height*this.height&&q(e)<=this.volume*this.volume?(a.a=n(b*b+c*c),!0):!1}j(){}}class fd{constructor(a,b){this.v=a;this.a=b}o(){this.a=this.v=null;gd.push(this)}}var gd=[];class hd{constructor(){this.y=this.x=0;this.v=null}}
function ed(a,b){if(0!==b.f.length)throw Error(`${b} is already placed`);if(b.w){b.w=!1;var c=b.b,d=c[0]*c[0],e=c[1]*c[1],g=c[2]*c[2],h=c[0]*c[1],k=c[0]*c[2],l=c[1]*c[2],m=c[3]*c[0],p=c[3]*c[1];c=c[3]*c[2];b.M=(1-2*(e+g))*b.width;b.K=2*(h-c)*b.width;b.L=2*(p+k)*b.width;b.W=2*(h+c)*b.height;b.X=(1-2*(d+g))*b.height;b.Y=2*(l-m)*b.height;b.Z=2*(k-p)*b.volume;b.$=2*(l+m)*b.volume;b.aa=1-2*(d+e)*b.volume;b.i=q(b.M)+q(b.W)+q(b.Z);b.h=q(b.K)+q(b.X)+q(b.$);q(b.L);q(b.Y);q(b.aa)}e=id(a,b.a.x-b.i-a.x,b.a.y-
b.h-a.y);a=(b.a.x+b.i-e.x)/250|0;d=(b.a.y+b.h-e.y)/250|0;for(g=0;;){h=e;for(k=0;;){l=h;m=l;p=b;(c=gd.pop())?(c.v=m,c.a=p,m=c):m=new fd(m,p);b.f.push(m);l.b.set(b,m);k++;if(k>a)break;h=h.get(0)}g++;if(g>d)break;e=e.get(1)}}function id(a,b,c){for(c=f(c/250);0<c;)c--,a=a.get(1);for(;0>c;)c++,a=a.get(3);for(b=f(b/250);0<b;)b--,a=a.get(0);for(;0>b;)b++,a=a.get(2);return a}
function*jd(a,b,c){const d=new hd;b=b/250|0;for(c=c/250|0;a;){d.x=0;let e=a;for(;e;){d.v=e;yield d;if(d.x>=b)break;d.x++;e=e.a[0]}if(d.y>=c)break;d.y++;a=a.a[1]}}
function kd(a,b,c,d){for(const e of jd(a,b,c)){a=e.v;Uc.v&&(D.translate(a.x,a.y),D.fillStyle="black",D.fillText(`cell(${a.x}, ${a.y})`,125,10),D.fillText(`object: ${a.b.size}`,125,20),D.strokeStyle="gray",D.strokeRect(.5,.5,249,249),D.translate(-a.x,-a.y));for(const g of a.b.values())a=g.a,a.ja===d&&(D.save(),Nc(a),a.B!==bd&&(a.B=bd,a.j(),Uc.ra&&(D.strokeStyle="rgba(0,0,0,0.5)",D.strokeRect(-a.i+.5,-a.h+.5,2*a.i-1,2*a.h-1))),D.restore())}}
function ld(a,b,c){for(c=f(c/250);0<c;)if(c--,a=a.a[1],null===a)return null;for(;0>c;)if(c++,a=a.a[3],null===a)return null;for(b=f(b/250);0<b;)if(b--,a=a.a[0],null===a)return null;for(;0>b;)if(b++,a=a.a[2],null===a)return null;return a}
class md{constructor(){this.a=[null,null,null,null];this.b=new Map;this.y=this.x=0}F(a){ed(this,a);a.ba()}get(a){var b=this.a[a];if(b)return b;b=250*Ha[a];const c=250*Ia[a],d=new md;d.x=b+this.x;d.y=c+this.y;this.a[a]=d;d.a[a^2]=this;var e=a&1^1;const g=e|2;let h=d,k=this.a[e];for(;null!==k;){const l=new md;l.x=b+k.x;l.y=c+k.y;h.a[e]=k.a[a]=l;l.a[a^2]=k;l.a[e^2]=h;h=l;k=k.a[e]}h=d;for(k=this.a[g];null!==k;)e=new md,e.x=b+k.x,e.y=c+k.y,h.a[g]=k.a[a]=e,e.a[a^2]=k,e.a[g^2]=h,h=e,k=k.a[g];return d}j(a,
b,c,d){bd++;{const e=a+c-250,g=b+d-250;let h=this,k=b;for(;h;){let l=a,m=h;for(;m&&!(l>=e);)l+=250,m=m.a[0];if(k>=g)break;k+=250;h=h.a[1]}}D.translate(a,b);Sc.push(Qc,Rc);Rc=Qc=0;kd(this,c,d,0);kd(this,c,d,1);Tc();D.translate(-a,-b)}}function*nd(a,b){var c=w;bd++;const d=Ka();var e=ld(c.v,a-c.v.x,b-c.v.y);if(null!==e){c=new cd;for(const g of e.b.values()){e=g.a;const h=a-e.a.x,k=b-e.a.y;q(h)>=e.i||q(k)>=e.h||!e.ga(c,h,k)||(c.b=e,yield c)}d.o();return c}}
function od(a){var b=w;bd++;b=b.v;var c=id(b,a.left-b.x,a.top-b.y);b=[];for(const d of jd(c,a.b-c.x,a.a-c.y))for(const e of d.v.b.values())c=e.a,c.B!==bd&&(c.B=bd,a.left>=c.a.x+c.i||a.b<=c.a.x-c.i||a.top>=c.a.y+c.h||a.a<=c.a.y-c.h||b.push(c));return a=b}class pd{constructor(a){this.v=a;this.y=this.x=0}F(a){this.v.F(a)}j(a,b){this.v.j(-this.x,-this.y,a,b)}}const qd=new md,w=new pd(qd);const rd=[["1.0.0","Version started"],["1.1.0","Changelog added","`Show values` button added","bugfix - removing wires from the specific port"],["1.2.0","Camera dragging with the space key","Processing speed slider","Add a view counter"],["1.3.0","Camera dragging with the wheel button"]];function sd(a,b,c){return b<a.b?(a.b=b,a.target=c,!0):!1}function td(a,b,c){var d=a.a;var e=d[0]-b[0];b=d[1]-b[1];e=n(e*e+b*b);return sd(a,e,c)}class ud extends u{constructor(a){super();this.a=new u;this.a.I(a[0],a[1]);this.b=Infinity;this.target=null}shift(a){this.a.x+=a[0];this.a.y+=a[1];this.x+=a[0];this.y+=a[1]}};function vd(a,b,c){b=a.l+b*a.g+c*a.h;return 1E-7>=q(b)?[]:[-b/a.f]}function wd(a,b,c){const d=a.f,e=a.l+(b*a.g+c*a.h);a=e*e-4*d*(b*a.i+c*a.m);return-1E-7>=a?[]:1E-7<a?(a=n(a),[(-e-a)/(2*d),(-e+a)/(2*d)]):-1E-7>a?[]:[-e/(2*d)]}
function xd(a,b,c){var d=a.f;const e=a.l+(b*a.g+c*a.h)/a.z;var g=e-d*d/3;a=d*(2*d*d-9*e)/27+(b*a.i+c*a.m)/a.z;b=g*g*g;c=a*a+4*b/27;d=-d/3;if(1E-7<c)return b=n(c),g=(-a+b)/2,a=(-a-b)/2,g=0<=g?la(g,1/3):-la(-g,1/3),a=0<=a?la(a,1/3):-la(-a,1/3),[g+a+d];if(-1E-7>c)return g=2*n(-g/3),a=qa(-n(-27/b)*a/2)/3,[g*na(a)+d,g*na(a+2*va/3)+d,g*na(a+4*va/3)+d];g=0>a?la(-a/2,1/3):-la(a/2,1/3);return[2*g+d,-g+d]}function yd(a,b,c){const d=new zd;d.b.set(a);d.a.set(b);d.c.set(c);return d}
class zd{constructor(){this.b=new u;this.a=new u;this.c=new u;this.l=this.f=this.z=this.h=this.g=this.m=this.i=0;this.s=null}update(){this.s=null}j(){D.beginPath();D.moveTo(this.b.x,this.b.y);D.quadraticCurveTo(this.a.x,this.a.y,this.c.x,this.c.y);D.stroke()}o(){Ad.push(this)}}var Ad=[];function Bd(a){for(const b of a.a)b.o();for(const b of a.b)b.o();for(const b of a.c)b.o();a.f=null;a.a.length=0;a.c.length=0;a.b.length=0}
function Cd(a){for(var b of a.c)b.o();for(var c of a.b)c.o();a.c.length=0;a.b.length=0;for(var d of a.a)b=Ka(),b.I(d.x,d.y-d.z),a.b.push(b);a.f=null;2<=a.a.length&&(b=a.b.first(),d=a.b,d=D.createRadialGradient(b.x,b.y,0,b.x,b.y,n(Pa(v.sub(b,d[d.length-1])))),d.addColorStop(0,a.g),d.addColorStop(1,a.h),a.f=d);if(!(3>a.a.length))for(d=a.b[0],b=a.b[1],c=2;;){const h=a.b[c++];if(c===a.a.length){a.c.push(yd(d,b,h));break}var e=b,g=h;e=Ka().add(e,g);e[0]/=2;e[1]/=2;a.c.push(yd(d,b,e));d=e;b=h}}
class Dd{constructor(){this.c=[];this.a=[];this.b=[];this.f=null;this.h=this.g="black"}shift(a){for(const b of this.a)b.R(a)}j(){if(!(2>this.b.length)){D.lineCap="round";D.strokeStyle=this.f;D.beginPath();D.moveTo(this.b[0].x,this.b[0].y);if(0!==this.c.length)for(const a of this.c)D.quadraticCurveTo(a.a.x,a.a.y,a.c.x,a.c.y);else D.lineTo(this.b[1].x,this.b[1].y);D.stroke();D.lineCap="butt";if(Uc.qa){D.strokeStyle="rgba(0,0,0,0.5)";D.beginPath();for(const a of this.a)D.lineTo(a.x,a.y);D.stroke()}}}}
;let Ed=A();function Fd(a){var b=typeof a;switch(b){case "undefined":case "bigint":case "boolean":case "number":case "string":return a;case "object":if(null===a)return null;if(a instanceof Array)break;switch(a.constructor){case Array:return a.map(Fd);case Object:b={};for(const c in a)b[c]=Fd(a[c]);return b;default:throw Error(`Cannot clone ${a.constructor.name}`);}default:throw Error(`Cannot clone ${b}`);}};let Gd=new Float32Array(32);const Hd=new Set;let L=1,Id=0,Jd=0;function Kd(a,b){D.font='bold 9px "Nanum Gothic"';const c=D.measureText(b+"").width;D.fillStyle="white";D.strokeStyle="black";D.beginPath();D.rect(a.x-ka(c/2)-3-.5,a.y-4-3-.5,c+7,15);D.fill();D.stroke();D.fillStyle="black";D.fillText(b+"",a.x,a.y)}
class Ld{constructor(a,b){this.b=Ta(a,b);this.index=0}f(){return"gray"}g(){return"gray"}ea(){return!1}h(a){return this.constructor===a.constructor}c(a){K(a)&&(D.strokeStyle="rgba(0,128,255,0.5)",D.beginPath(),a=Oc(a,this.b),D.arc(a.x,a.y,6.5,0,wa),a.o(),D.lineWidth=3,D.stroke(),D.lineWidth=1)}j(){}}function M(a,b){return new N(a,-.6,b,-1,0,!1)}function O(a){return new N(a,.6,0,1,0,!0)}function Md(a,b,c){const d=a.a?b.g[a.index]:b.l[a.index];a=Oc(b,a.b);a.y+=c;Kd(a,d);a.o()}
class N extends Ld{constructor(a,b,c,d,e,g){super(b,c);this.name=a;this.direction=Ta(d,e);this.a=g}f(){return this.a?"green":"red"}g(){return this.a?"red":"green"}ea(a){return a instanceof N?this.a!==a.a:!1}h(a){return a instanceof N?this.a===a.a:!1}j(){D.strokeStyle=this.f();D.beginPath();D.arc(this.b.x,this.b.y,2.5,0,wa);D.stroke()}}
class Nd extends Ld{constructor(a,b,c){super(a,b);this.a=c}c(a){D.strokeStyle="rgba(0,128,255,0.5)";D.beginPath();a=Oc(a,this.b);D.arc(a.x,a.y,8.5,0,wa);a.o();D.lineWidth=3;D.stroke();D.lineWidth=1}}class Od extends Nd{constructor(a,b,c){super(a,b,c)}c(){}}class Pd{s(){return!1}M(){return!1}h(){}c(){}m(){}}function Qd(a,b,c){if(0===a.f.length)return!1;let d=!1;for(let e=0;e<a.f.length;e++){const g=a.f[e];c(g)&&td(b,g.b,g)&&(d=!0)}return d}
function Rd(a,b){const c=new ud(b.b);Qd(a,c,d=>d.h(b));return c.target}
class P extends Pd{constructor(a,b,c){super();this.name=a;this.u=[];this.b=[];this.buttons=[];for(var d of c)d instanceof N?d.a?this.b.push(d):this.u.push(d):d instanceof Nd&&this.buttons.push(d);this.f=c;this.g=new Float32Array(this.b.length);this.w=b;this.i=this.B=this.fa=this.L=!1;this.l=new Map;for(b=0;b<this.u.length;b++)d=this.u[b],d.index=b,this.l.set(d.name,d);for(b=0;b<this.b.length;b++)d=this.b[b],d.index=b,this.l.set(d.name,d);for(b=0;b<this.buttons.length;b++)this.buttons[b].index=b;for(const e of c)Xa(e.b,
25);Sd.set(a,this)}s(){return!0}K(){}D(){return null}A(){}a(){}M(){return this.L}h(a,b){D.fillRect(-a,-b,2*a,2*b)}c(a,b){this.j(this.g,this.w,a,b)}m(a,b,c,d){const e=new Td;e.F(this,a,b,c,d,this.w);Lc(e)}j(a,b,c,d){D.fillStyle="black";this.a(a,b,c,d);D.strokeStyle="black";D.strokeRect(1.5-c,1.5-d,2*c-3,2*d-3);for(const e of this.f)e.j()}}var Sd=new Map;
function Ud(a){if(a.P===Jd)return a.s===L;if(a.s===L)return a.O===L;a.s=L;if(a.type.i)return a.s=L,!1;let b=!1;for(const c of ia(a.u))Ud(c.from)&&(b=!0);a.O=L;if(b)return!0;a.P=Jd;Vd(a);return!0}function Wd(a,b){if(b.a)for(const c of a.c){if(c.l===b.index)return!0}else for(const c of a.u)if(c.g===b.index)return!0;return!1}function Xd(a,b,c,d){return-1!==a.c.findIndex(e=>e.l===b&&e.c===c&&e.g===d)}
function Vd(a){var b=a.l.length;b=(Gd.length>=b?Gd:Gd=new Float32Array(ua(2*Gd.length,b))).subarray(0,b);b.fill(0);for(const c of a.u)b[c.g]+=c.from.g[c.l];a.type.B||0!==a.u.length?a.type.A(a.g,b,a.l):a.g.fill(0);a.l.set(b);a.ha=Ed}function Yd(a,b,c){var d=a.a;b.a.x-=d[0];b.a.y-=d[1];b.x-=d[0];b.y-=d[1];d=Za();d.inverse(a.b);fb(d,b);fb(d,b.a);d.o();c=Qd(a.type,b,c);fb(a.b,b);fb(a.b,b.a);b.shift(a.a);return c}
class Q extends dd{constructor(a){super(0);this.volume=this.height=this.width=25;this.w=!0;this.type=a;this.c=[];this.u=[];this.g=a.g.slice();this.l=new Float32Array(a.u.length);this.D=a.w;this.ha=this.P=this.O=this.s=0}j(){this.type.j(this.g,this.D,this.width,this.height);if(0!==Zd.a){const a=2E3*Zd.b/30,b=Ed-this.ha;b<a&&(D.globalAlpha=1-b/a,D.strokeStyle="#08f",D.strokeRect(-this.width+.5,-this.height+.5,2*this.width-1,2*this.height-1),D.globalAlpha=1)}}ba(){Hd.add(this)}m(){if(!super.m())return!1;
Hd.delete(this);for(const b of this.c){var a=b;ya(b.c.u,a);a.O()}this.c.length=0;for(const b of this.u)a=b,ya(b.from.c,a),a.O();this.u.length=0;return!0}A(){if(this.s!==L&&(this.s=L,!this.type.i)){for(const a of ia(this.u))a.from.A();Vd(this)}}toString(){return`[${this.type.name}]`}}class $d{constructor(a,b){this.b=a;this.a=b}}var Zd=new $d(1,0);
function be(a,b,c,d,e){Bd(a);a.g=c.f();a.h=c.g();let g;null!==e?g=Oc(d,e.b):g=Ya(d.a);const h=Oc(b,c.b);a.a.push(h);{var k=h[0]-g[0];const l=h[1]-g[1],m=h[2]-g[2];k=n(k*k+l*l+m*m)}k=ta(k/3,20);b=Xa(eb(b.b,c.direction),k).R(h);a.a.push(b);null!==e&&(d=Xa(eb(d.b,e.direction),k).R(g),a.a.push(d));a.a.push(g)}
class R extends dd{constructor(a,b,c,d){super(1);this.from=a;this.c=c;this.l=b;this.g=d;this.s=new Dd}get D(){return this.from.type.b[this.l]}get P(){return this.c.type.u[this.g]}ga(a,b,c){b=new ud(Ma(b,c));c=this.s;for(const l of c.c){c=l;var d=b;if(null===c.s){var e=c;e.i=e.a.x-e.b.x;e.m=e.a.y-e.b.y;e.g=e.b.x-2*e.a.x+e.c.x;e.h=e.b.y-2*e.a.y+e.c.y;e.z=e.g*e.g+e.h*e.h;e.f=3*(e.i*e.g+e.m*e.h);e.l=2*(e.i*e.i+e.m*e.m);if(1E-7<q(e.z)){var g=e.z;e.f/=g;e.l/=g;e.s=xd}else 1E-7<q(e.f)?e.s=wd:e.s=vd}g=c.b;
var h=c.c;e=c.s(c,g.x-d.a.x,g.y-d.a.y);td(d,g,null);td(d,h,null);if(null!=e)for(g=0;g<e.length;g++){var k=e[g];if(0<=k&&1>=k){{h=c;const m=(1-k)*(1-k),p=2*k*(1-k);k*=k;const t=Ka();t.x=m*h.b.x+p*h.a.x+k*h.c.x;t.y=m*h.b.y+p*h.a.y+k*h.c.y;h=t}td(d,h,null);h.o()}}}if(10<b.b)return!1;a.a=b.b;return!0}ba(){this.from.c.push(this);this.c.u.push(this)}m(){const a=this.from.c,b=this.c.u,c=a.findIndex(d=>d.c===this.c&&d.g===this.g);if(-1===c)return!1;a.splice(c,1);b.splice(b.findIndex(d=>d.from===this.from&&
d.l===this.l),1);return super.m()}O(){super.m()}j(){D.lineWidth=2;this.s.j();D.lineWidth=1}update(){be(this.s,this.from,this.D,this.c,this.P);var a=new ad,b=this.s.a;Zc(a,b[0]);for(let c=1;c<b.length;c++)$c(a,b[c]);a.left-=10;a.top-=10;a.f-=10;a.b+=10;a.a+=10;a.c+=10;b=Qa();b.x=(a.left+a.b)/2;b.y=(a.top+a.a)/2;b.z=(a.f+a.c)/2;this.s.shift(Wa(b,b));Cd(this.s);b.o();bb(this.b);this.a.x=a.g;this.a.y=a.h;this.a.z=a.i;this.width=a.b-a.left;this.height=a.a-a.top;this.volume=a.c-a.f;this.M=this.width;this.W=
this.L=this.K=0;this.X=this.height;this.$=this.Z=this.Y=0;this.aa=this.volume;b=Qa();b.x=(a.b-a.left)/2;b.y=(a.a-a.top)/2;b.z=(a.c-a.f)/2;a=b;this.i=a.x;this.h=a.y;this.w=!1;a.o();K(this)&&(this.m(),w.F(this))}toString(){return"[Wire]"}};class ce{constructor(){this.a=new Set}F(){for(const a of this.a)w.F(a)}}function de(a,b){a.a.a.add(b);var c=a.a,d=b.c;for(const e of d)c.a.add(e);a=a.a;b=b.u;for(const e of b)a.a.add(e)}
class Td extends Hc{constructor(){super();this.b=new ce;this.a=new ce;this.i=!1}F(a,b,c,d,e,g){db(b.b);var h=this.b;a=new Q(a);a.D=Fd(g);g=a;g.width=c;g.height=d;g.volume=e;g.w=!0;e=a;e.a.set(b.a);e.b.set(b.b);h.a.add(a);h=a;b=(new Xc).I(b.a.x-c,b.a.y-d,b.a.x+c,b.a.y+d);for(const k of od(b))if(k instanceof Q){d=k;c=h;for(const l of d.u)this.a.a.add(l),e=Rd(c.type,l.P),e instanceof N&&(e=new R(l.from,l.l,c,e.index),e.update(),this.b.a.add(e));for(const l of d.c)this.a.a.add(l),d=Rd(c.type,l.D),d instanceof
N&&(d=new R(c,d.index,l.c,l.g),d.update(),this.b.a.add(d));de(this,k)}b.o();return h}f(){if(!this.i){this.i=!0;for(var a of this.b.a)a instanceof R&&(this.a.a.has(a.from)||this.a.a.has(a.c))&&this.b.a.delete(a)}a=this.a;for(const b of a.a)b.m();this.b.F()}g(){var a=this.b;for(const b of a.a)b.m();this.a.F()}};class ee extends Pb{constructor(){super();this.c=""}j(){D.font="bold 16px 'Nanum Gothic'";D.fillStyle="white";D.fillRect(-11,0,this.width+22,22);D.lineWidth=1;D.strokeStyle="black";D.strokeRect(-10.5,.5,this.width+21,21);D.fillStyle="black";D.fillText(this.c,0,this.height)}}var fe=null,Ob=null;class ge extends Pb{constructor(){super();this.checked=this.m=this.J=!1;this.h="";this.f=ea}D(){fe===this&&(Nb(),fe=Ob=null)}G(){return this.J=!0}s(){if(this.h){var a=this.h,b;v.x=this.x;v.y=this.y;for(b=this.a;null!==b;)v.x+=b.x,v.y+=b.y,b=b.a;b=v;b.x+=.5*this.width;b.y+=this.height;var c=b.x,d=b.y;fe!==this&&(fe=this,Ob||(Ob=new ee),b=Ob,b.c=a,D.font="bold 16px 'Nanum Gothic'",b.g(D.measureText(a).width,15),b.x=c-.5*b.width,b.y=d,a=G.width-20-b.width-2-5,5>b.x?b.x=5:b.x>a&&(b.x=a),a=G.height-22-
5,5>b.y?b.y=5:b.y>a&&(b.y=a),G.f(b))}}w(){fe===this&&(Nb(),fe=Ob=null)}C(){this.J&&(this.J=!1,this.click())}click(){this.m&&(this.checked=!this.checked);this.isVisible()&&this.f()}S(a){return this.J?0<=a.x&&0<=a.y&&a.x<this.width&&a.y<this.height?!0:this.J=!1:!1}}
class he extends ge{constructor(a,b,c,d,e,g){super();this.l=0;this.i={J:tc,checked:H,ma:I};this.c=null;this.text="";this.text=a;this.c=null;this.x=b;this.y=c;this.g(d,e);g&&(this.h=g)}j(){null===this.c&&(D.font=I.g||"",this.c=Ac(this.text,0,Infinity),this.l=this.c.length*I.h);D.save();const a=this.i.ma.apply();let b=null;this.J?b=this.i.J.apply():this.checked&&(b=this.i.checked.apply());F.j(this.width,this.height);D.textAlign="left";D.textBaseline="top";const c=.5*this.width;let d=.5*(this.height-
this.l);for(const e of this.c)D.fillText(e.text,c-.5*e.width,d),d+=F.h;null!==b&&b.restore();a.restore();D.restore()}};var S;{const a=rb("input",void 0);try{a.type="text"}catch(b){a.type="text"}S=a}S.style.font='15px "Nanum Gothic"';S.style.textAlign="center";S.style.position="absolute";S.style.color="white";S.style.outline="none";S.style.padding="0";S.style.backgroundColor="transparent";S.style.border="none";S.a("keydown",a=>{13===a.keyCode&&ie()});let je=null;S.a("blur",()=>{ie()});S.a("focus",()=>{});function ie(){if(null!==je){var a=S.value;S.value="";je(a);je=null;S.remove()}}
function ke(a,b,c,d,e){return new Promise(g=>{null!==je&&ie();je=g;S.value=a;S.style.left=f(b-d)+"px";S.style.top=f(c-e)+"px";S.style.paddingBottom=S.style.paddingTop=e-7.5-1+"px";S.style.width=2*d+"px";S.style.height="16px";document.body.append(S);setTimeout(()=>S.focus(),1)})};const oc={j(){const a=(new Xc).I(0,0,Rb.width,Rb.height),b=od(a);D.save();D.translate(-w.x,-w.y);for(const c of b)if(c instanceof Q){for(const d of c.type.b)Md(d,c,0);for(const d of c.type.u)Md(d,c,0)}D.restore();a.o()}};var le=!1;I.a="transparent";I.c=0;I.f=0;I.g="bold 12px nanumGothic";I.h=12;tc.a="#ccc";tc.b="black";I.b="black";H.m=0;H.l=0;H.b="black";H.a="#aaf";new class extends P{constructor(){super("Glass Cube",null,[]);this.g[0]=1;this.i=!0}j(a,b,c,d){D.strokeStyle="black";D.strokeRect(-c+.5,-d+.5,2*c-1,2*d-1)}};
const me=[[new class extends P{constructor(){super("Switch",null,[O("Output"),new Nd(0,0,(a,b)=>{b||(a.g[0]=+!a.g[0])})]);this.g[0]=1;this.B=!0}a(a){D.fillText(a[0]?"ON":"OFF",0,0)}},new class extends P{constructor(){super("Button",null,[O("Output"),new Nd(0,0,(a,b)=>{a.g[0]=+!b})]);this.B=!0}a(a){D.fillStyle=a[0]?"#800":"red";D.strokeStyle="#800";D.beginPath();D.arc(0,0,10,0,wa);D.fill();D.stroke()}},new class extends P{constructor(){super("Simple Connector",null,[M("Input",0),O("Output")])}A(a,
b){a[0]=b[0]}a(a){D.fillText(a[0]+"",0,0)}},new class extends P{constructor(){super("Bit",null,[M("One",-.6),M("Zero",0),M("Toggle",.6),O("Current State"),new Nd(0,0,(a,b)=>{b||(a.g[0]=+!a.g[0])})]);this.fa=!0}A(a,b,c){.5<=b[0]&&.5>c[0]&&(a[0]=1);.5<=b[1]&&.5>c[1]&&(a[0]=0);.5<=b[2]&&.5>c[2]&&(a[0]=+!a[0])}a(a){D.fillStyle="black";D.fillRect(-10,-10,20,20);D.fillStyle="white";D.fillText(a[0]+"",0,0)}},new class extends P{constructor(){super("Text Block",{text:"Text Block"},[new Od(0,0,(a,b)=>{if(!b){var c=
a.D;b=a.a;ke(c.text,b.x-w.x,b.y-w.y,a.width,a.height).then(d=>{c.text=d});c.text=""}})]);this.i=this.L=!0}K(a,b){a.text=b.text}D(a){return{text:a.text}}a(a,b,c,d){D.save();D.beginPath();D.rect(1.5-c,1.5-d,2*c-3,2*d-3);D.fillStyle="#d3b538";D.fill();D.clip();D.fillStyle="white";D.font='15px "Nanum Gothic"';D.fillText(b.text,0,0);D.restore()}}],[new class extends P{constructor(){super("Adder Maths",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=b[0]+b[1]}a(){D.fillText("+",0,0)}},
new class extends P{constructor(){super("Subtractor Maths",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=b[0]-b[1]}a(){D.fillText("-",0,0)}},new class extends P{constructor(){super("Multplier Maths",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=b[0]*b[1]}a(){D.fillText("×",0,0)}},new class extends P{constructor(){super("Divider Maths",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=0===b[1]?1:b[0]/b[1]}a(){D.fillText("÷",0,0)}},new class extends P{constructor(){super("Sign Maths",
null,[M("Input",0),O("Output")])}A(a,b){a[0]=-b[0]}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("+/-",0,0)}},new class extends P{constructor(){super("Mean Maths Block",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=(b[0]+b[1])/2}a(){D.strokeStyle="black";D.beginPath();D.moveTo(-10/3,-4.5);D.lineTo(10/3,-4.5);D.stroke();D.font='bold 10px "Nanum Gothic"';D.fillText("x",0,0)}},new class extends P{constructor(){super("Absolute Maths",null,[M("Input",0),O("Output")])}A(a,b){a[0]=
q(b[0])}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("|x|",0,0)}},new class extends P{constructor(){super("Min Maths",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=b[0]<=b[1]||isNaN(b[1])?b[0]:b[1]}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("min",0,0)}},new class extends P{constructor(){super("Max Maths",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=b[0]>=b[1]||isNaN(b[1])?b[0]:b[1]}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("max",0,0)}}],[new class extends P{constructor(){super("AND Logic Gate",
null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=+(.5<=b[0]&&.5<=b[1])}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("AND",0,0)}},new class extends P{constructor(){super("OR Logic Gate",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=+(.5<=b[0]||.5<=b[1])}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("OR",0,0)}},new class extends P{constructor(){super("XOR Logic Gate",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=+(.5<=b[0])^+(.5<=b[1])}a(){D.font=
'bold 10px "Nanum Gothic"';D.fillText("XOR",0,0)}},new class extends P{constructor(){super("NOT Logic Gate",null,[M("Input",0),O("Output")])}A(a,b){a[0]=+(.5>b[0])}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("NOT",0,0)}},new class extends P{constructor(){super("NAND Logic Gate",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=+!(.5<=b[0]&&.5<=b[1])}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("NAND",0,0)}},new class extends P{constructor(){super("NOR Logic Gate",null,[M("Input A",
-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=+!(.5<=b[0]||.5<=b[1])}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("NOR",0,0)}},new class extends P{constructor(){super("XNOR Logic Gate",null,[M("Input A",-.6),M("Input B",.6),O("Output")])}A(a,b){a[0]=+(.5<=b[0])^+(.5<=b[1])^1}a(){D.font='bold 10px "Nanum Gothic"';D.fillText("XNOR",0,0)}}],[new class extends he{constructor(){super("Reset\nValues",0,0,0,0);this.f=()=>{for(const a of Hd)a.g.set(a.type.g),a.l.fill(0)}}},new class extends he{constructor(){super("Show\nValues",
0,0,0,0);this.m=!0;this.f=()=>{var a=this.checked;le!==a&&((le=a)?Zb.unshift(oc):nc())}}j(){super.j()}}]];let ne=0,oe=!1;var pe=["","pointer","text","grab","grabbing"],qe=0;function re(a){qe=a;oe||setTimeout(()=>{oe=!1;ne!==qe&&(ne=qe,document.body.style.cursor=pe[qe])})};function se(a){function b(h,k){const l={};l.name=h.type.name;l.x=(h.a.x-h.width)/50+.5;l.y=(h.a.y-h.height)/50+.5;l.z=(h.a.z-h.volume)/50+.5;25!==h.width&&(l.sizeX=h.width/25);25!==h.height&&(l.sizeY=h.height/25);25!==h.volume&&(l.sizeZ=h.volume/25);db(h.b);var m=h.b;if(0!==m[0]||0!==m[1]||0!==m[2])m=q(h.b[3]),l.quaternion=1E-5>m?[h.b[0],h.b[1],h.b[2],h.b[3]]:[h.b[0]/m,h.b[1]/m,h.b[2]/m,h.b[3]/m];k&&(l.external=!0);h.type.K(l,h.D);m=l.wires=[];for(const p of h.c)h=c.get(p.c),void 0!==h&&(k&&c.get(p.c)>=
a.length||m.push([p.D.name,h,p.P.name]));return l}const c=new Map,d=[];for(var e=0;e<a.length;e++)c.set(a[e],e);for(var g of a){for(const h of g.u)e=h.from,c.has(e)||(c.set(e,c.size),d.push(e));for(const h of g.c)e=h.c,c.has(e)||(c.set(e,c.size),d.push(e))}g=[];for(const h of a)g.push(b(h,!1));for(const h of d)g.push(b(h,!0));return JSON.stringify(g)}class te extends Pc{constructor(a,b){super();this.volume=this.height=this.width=this.i=this.g=this.f=0;this.type=a;this.c=b;this.h=null}}
const ue=[0,0,0,1];function ve(a,b,c,d){for(const e of nd(b,c))if(b=e.b,b instanceof Q&&(c=Rd(b.type,d),null!==c)){a.block=b;a.a=c.index;return}a.block=null;a.a=-1}class we{constructor(){this.block=null;this.a=-1}}class xe{a(){return!1}error(){return""}}class ye extends xe{constructor(a,b){super();this.c=a;this.b=b}a(a){return typeof a===this.c}error(){return this.b}}class ze extends xe{constructor(a,b){super();this.c=a;this.b=b}a(a){return a instanceof this.c}error(){return this.b}}
var T=new ye("number","is not numeric"),Ae=new ye("string","is not a string"),Be=new ye("boolean","is not a boolean"),Ce=new ze(Array,"is not an array"),De=new class extends xe{a(){return!0}},Ee=new class extends xe{a(a){return"object"===typeof a&&!(a instanceof Array)}error(){return"is not an object"}};function Fe(a,b,c){if(!b.a(a.value)){if(c&&"undefined"===typeof a.value)return!1;a.b.push(`${a.a}: ${b.error()}`);return!1}return!0}
function Ge(a,b,c){He(a,`[${b}]`);a.value=a.value[b];return Fe(a,c,void 0)}function*Ie(a,b){if(Fe(a,Ce)){var c=a.value;for(let d=0;d<c.length;d++)Ge(a,d,b)&&(yield d,a.pop())}}function Je(a,b,c,d){const e=a.value[b];if(!c.a(e)){if(d&&"undefined"===typeof e)return null;a.b.push(`${a.a}.${b}: ${c.error()}`);return null}return e}function Ke(a){return 4!==Je(a,"length",T)?(a.b.push(`${a.a}.${"length"} != ${4}`),!1):!0}
function Le(a,b,c){const d=a.value[b];return c.a(d)?d:(a.b.push(`${a.a}[${b}]: ${c.error()}`),null)}function He(a,b){a.values.push({value:a.value,ia:a.c});a.a+=b;a.c=a.a.length}function Me(a,b){He(a,`.${b}`);a.value=a.value[b];return Fe(a,Ce,!0)?!0:(a.pop(),!1)}class Ne{constructor(a,b){this.a=a;this.value=b;this.c=a.length;this.values=[];this.b=[]}pop(){const a=this.values.pop();void 0!==a&&(this.value=a.value,this.a=this.a.substr(0,a.ia),this.c=a.ia)}}
class Oe extends Pd{constructor(a){super();this.a=[];this.b=[];this.i=[];this.f=[];this.g=new Sa;var b=0;const c=new ad;try{const e=JSON.parse(a),g=new Ne("data",e);g.b=this.f;a=(h,k,l,m)=>{const p=this.a[h];if(!p)return!1;const t=this.a[l];if(!t)return!1;const B=p.type.l.get(k);if(!B)return this.f.push(`${g.a}: ${p.type.name}(data[${h}]) has not ${k}`),!1;k=t.type.l.get(m);if(!k)return this.f.push(`${g.a}: ${t.type.name}(data[${l}]) has not ${m}`),!1;this.b.push(h,B.index,l,k.index);h=new Dd;be(h,
p,B,t,k);Cd(h);this.i.push(h)};if(Fe(g,Ce)){var d=e.length;for(const h of Ie(g,Ee)){const k=g.value,l=Je(g,"name",Ae);if(null===l)continue;let m=Je(g,"x",T)||0,p=Je(g,"y",T)||0,t=Je(g,"z",T)||0;const B=Je(g,"sizeX",T,!0)||1,E=Je(g,"sizeY",T,!0)||1,C=Je(g,"sizeZ",T,!0)||1,ae=Je(g,"external",Be,!0)||!1;let pa;if(Me(g,"quaternion")){pa=g.value;if(Ke(g))for(const If of Ie(g,De)){if(!Fe(g,T)){pa=ue;g.pop();break}}else pa=ue;g.pop()}else pa=ue;const yc=Sd.get(l);if(!yc){this.f.push(`${g.a}.name: Unknown block name `+
l);continue}m-=.5;p-=.5;t-=.5;m+=B/2;p+=E/2;t+=C/2;ae||(0===b?Zc(c,Ua(m,p,t)):$c(c,Ua(m,p,t)),b++);const W=new te(yc,ae);W.f=50*m;W.g=50*p;W.i=50*t;W.b.I(pa[0],pa[1],pa[2],pa[3]);cb(W.b);W.width=25*B;W.height=25*E;W.volume=25*C;W.h=yc.D(k);this.a.push(W)}if(0===b)this.a.length=0;else{this.g.x=50*ka(c.g);this.g.y=50*ka(c.h);this.g.z=50*ka(c.i);for(const h of this.a)h.a.x=h.f-this.g.x,h.a.y=h.g-this.g.y,h.a.z=h.i-this.g.z;for(b=0;b<d;b++){if(!Ge(g,b,Ee))continue;const h=this.a[b];if(Me(g,"wires")){for(const k of Ie(g,
Ce)){const l=Le(g,0,Ae);if(null===l)continue;const m=Le(g,1,T);if(null===m)continue;const p=Le(g,2,Ae);null!==p&&a(b,l,m,p)}g.pop()}for(const k of h.type.b)if(Me(g,k.name)){for(const l of Ie(g,Ce)){const m=Le(g,0,T);if(null===m)continue;const p=Le(g,1,Ae);null!==p&&a(b,k.name,m,p)}g.pop()}g.pop()}}}}catch(e){this.f.push(e.message)}}s(){return 1===this.a.length}h(){for(const a of this.a)a.c||(D.save(),Nc(a),a.type.h(a.width,a.height),D.restore())}c(){for(const a of this.a)a.c||(D.save(),Nc(a),a.type.c(a.width,
a.height),D.restore());D.lineWidth=2;for(const a of this.i)a.j();D.lineWidth=1}load(){const a=[];for(var b of this.a)if(b.c)a.push(null);else{var c=new Q(b.type),d=c,e=b.height,g=b.volume;d.width=b.width;d.height=e;d.volume=g;d.w=!0;c.D=b.h;a.push(c);b.a.x=b.f;b.a.y=b.g;b.a.z=b.i;d=c;e=b.a;0===d.f.length?d.a.set(e):(g=d.f[0].v,d.m(),d.a.set(e),g.F(d));d=c;d.b.set(b.b);d.w=!0;qd.F(c)}for(b=0;b<this.b.length;)g=this.b[b++],c=this.b[b++],e=this.b[b++],d=this.b[b++],g=a[g],e=a[e],null!==g&&null!==e&&
(c=new R(g,c,e,d),c.update(),qd.F(c))}m(a){const b=new we,c=new we;var d=new Pc;const e=new Td,g=[];for(var h of this.a)if(h.c)g.push(null);else{var k=a,l=d,m=h;k.b.transform(l.a,m.a);l.a.R(k.a);l=l.b;m=m.b;k=k.b;l[0]=m[3]*k[0]+m[0]*k[3]+m[1]*k[2]-m[2]*k[1];l[1]=m[3]*k[1]+m[1]*k[3]+m[2]*k[0]-m[0]*k[2];l[2]=m[3]*k[2]+m[2]*k[3]+m[0]*k[1]-m[1]*k[0];l[3]=m[3]*k[3]-m[0]*k[0]-m[1]*k[1]-m[2]*k[2];k=e.F(h.type,d,h.width,h.height,h.volume,h.h);g.push(k)}for(d=0;d<this.b.length;){m=this.b[d++];h=this.b[d++];
var p=this.b[d++];k=this.b[d++];var t=this.a[m];l=this.a[p];m=g[m];p=g[p];if(null===m){const E=Oc(a,t.a);m=b;var B=t;h=t.type.b[h];ve(m,E.x,E.y,h);null===m.block&&ve(m,B.f,B.g,h);E.o();if(null===b.block)continue;m=b.block;h=b.a}if(null===p){B=Oc(a,l.a);t=c;p=l;k=l.type.u[k];ve(t,B.x,B.y,k);null===t.block&&ve(t,p.f,p.g,k);B.o();if(null===c.block)continue;p=c.block;k=c.a}a:{for(const E of e.b.a)if(E instanceof R&&E.from===m&&E.c===p&&E.l===h&&E.g===k){l=!0;break a}l=!1}l||(h=new R(m,h,p,k),h.update(),
e.b.a.add(h))}Lc(e)}};function Pe(){const a=A()%2E3*10/2E3;D.lineDashOffset=a;D.setLineDash([5,5])};const U=new Dd;class Qe{b(){}j(){}H(){}G(){}C(){}V(){}U(){V()}T(){}N(){}i(a){switch(a){case 27:V()}}l(){}}function Re(a){return Ma(50*ka((a.x+w.x)/25/2),50*ka((a.y+w.y)/25/2))}const X=new Set;function Se(){const a=[];for(const b of X)K(b)&&a.push(b);return a}function Te(a){Sc.push(Qc,Rc);Rc=Qc=0;Pe();D.strokeStyle="#08f";for(const c of a)if(K(c)){a=c.a.x;var b=c.a.y;D.translate(a-Qc,b-Rc);Qc=a;Rc=b;D.strokeRect(-c.i+.5,-c.h+.5,2*c.i-1,2*c.h-1)}D.setLineDash([]);Tc()}
function V(){var a=Ue;Y.b();Y=a;a.a=null;a.c=null}function Ve(){const a=new Td;for(const b of X)K(b)&&de(a,b);Lc(a)}
class We extends Qe{constructor(){super();this.f=this.c=this.a=null;document.a("cut",a=>{if(Y===this){var b=a.clipboardData;b&&(this.ca(b),Ve(),a.preventDefault())}});document.a("copy",a=>{if(Y===this){var b=a.clipboardData;b&&(this.ca(b),a.preventDefault())}});document.a("paste",a=>{if(Y===this){var b=a.clipboardData;if(b){b=b.getData("text");b=new Oe(b);for(const c of b.f)Bc.push(c),Cc.push(A()+5E3),Ec.push("red");for(const c of b.a)if(!c.c){Xe.c=0;Ye(b);break}a.preventDefault()}}})}ca(a){const b=
se(Se());a.setData("text/plain",b);a.setData("text/json",b)}b(){this.f=this.c=this.a=null;re(0)}H(a){re(0);this.c=this.a=null;this.f=a;let b=null;a=Ma(a[0],a[1]);a.x+=w.x;a.y+=w.y;const c=new ud(a);for(var d of nd(a.x,a.y)){const e=d.b;if(e instanceof Q){if(X.has(e)){re(3);this.a=e;return}0===e.type.f.length?sd(c,d.a,e):Yd(e,c,ha)&&(b=e)}else e instanceof R&&(c.target instanceof R||20<=c.b)&&sd(c,d.a,e)}a.o();d=c.target;if(d instanceof R){this.a=d;Bd(U);for(const e of d.s.a)U.a.push(Ya(e));U.shift(d.a);
U.g="rgba(0,128,255,0.5)";U.h="rgba(0,128,255,0.5)";Cd(U)}else d instanceof Q?this.a=d:d instanceof Ld&&(this.a=b,this.c=d,d instanceof Nd&&(d instanceof Od?re(2):re(1)))}G(a){ie();if(this.a instanceof Q)if(this.c instanceof Nd){a=this.a;var b=this.c,c=Ze;Y.b();Y=c;c.target=a;c.button=b;b.a(a,!1)}else if(this.c instanceof N){b=this.a;c=this.c;var d=$e;Y.b();Y=d;d.g=b;d.a=c;d.c=null;d.h=a;Bd(U)}else null===this.c&&(X.has(this.a)||(X.clear(),X.add(this.a)),af(a));else b=bf,Y.b(),Y=b,b.region.I(a.x,
a.y,a.x,a.y),b.region.shift(w.x,w.y)}U(){if(this.a instanceof Q){const b=this.a,c=this.c;if(!K(b))return;if(c instanceof N&&Wd(b,c)){let d;d=c.a?b.c.filter(g=>g.l===c.index):b.u.filter(g=>g.g===c.index);const e=d.map(g=>g.f[0].v);Lc(new class extends Hc{f(){if(c.a)for(var g=0;g<b.c.length;){var h=b.c[g];if(h.l!==c.index)g++;else{var k=h;ya(h.c.u,k);k.O();b.c.splice(g,1)}}else for(g=0;g<b.u.length;)h=b.u[g],h.g!==c.index?g++:(k=h,ya(h.from.c,k),k.O(),b.u.splice(g,1))}g(){for(let g=0;g<d.length;g++)e[g].F(d[g])}});
this.a=null;V();return}var a=new Td;de(a,b);Lc(a)}else this.a instanceof R&&(a=new Td,a.a.a.add(this.a),Lc(a));this.a=null;V()}T(){this.a instanceof Q?Ye(this.a.type):cf()}i(a){if(!1===super.i(a))return!1;switch(a){case 65:if(Ib)for(const b of Hd[Symbol.iterator]())X.add(b);break;case 32:cf();break;case 46:Ve()}}j(){if(this.a instanceof Q)if(null!==this.c)this.c.c(this.a),!le&&null!==this.f&&this.c instanceof N&&Md(this.c,this.a,-20);else{var a=this.a;if(K(a)){D.save();D.strokeStyle="rgba(0,128,255,0.5)";
D.lineWidth=2;D.translate(a.a.x,a.a.y);{var b=a.b;var c=Qa();c.x=sa(2*(b[3]*b[0]+b[1]*b[2]),1-2*(b[0]*b[0]+b[1]*b[1]));const d=2*(b[3]*b[1]-b[2]*b[0]);1<=q(d)?c.y=xa*ma(d):c.y=ra(d);c.z=sa(2*(b[3]*b[2]+b[0]*b[1]),1-2*(b[1]*b[1]+b[2]*b[2]));b=c}D.rotate(b.z);b.o();D.strokeRect(-a.width,-a.height,2*a.width,2*a.height);D.lineWidth=1;D.restore()}}else this.a instanceof R&&(D.lineWidth=4,U.j(),D.lineWidth=1,null!==this.f&&(a=this.a,b=a.from,c=a.D,Kd(a.a,c.a?b.g[c.index]:b.l[c.index])));Te(X)}}
function cf(){var a=df;Y.b();Y=a;a.a=y;re(4)}class ef extends Qe{constructor(){super();this.a=null}b(){re(0);this.a=null}l(a){32===a&&V()}H(a){if(this.a===a){{var b=-a.deltaX;a=-a.deltaY;var c=w;const d=id(c.v,b+c.x-c.v.x,a+c.y-c.v.y);c.x+=b;c.y+=a;c.v=d}}}N(){V()}}function af(a){var b=ff;Y.b();Y=b;re(4);Gc=()=>b.cancel();a=Re(a);b.a=a.x;b.c=a.y;b.h=a.x;b.m=a.y;a.o();for(const c of X){for(const d of c.c)X.has(d.c)?b.g.push(d):b.f.push(d);for(const d of c.u)X.has(d.from)||b.f.push(d)}}
class gf extends Qe{constructor(){super();this.g=[];this.f=[];this.m=this.h=this.c=this.a=0}b(){re(3);this.g.length=0;this.f.length=0}cancel(){const a=this.h-this.a,b=this.m-this.c;for(const c of X)c.shift(a,b,0);V()}H(a){a=Re(a);const b=a.x-this.a,c=a.y-this.c;this.a=a.x;this.c=a.y;a.o();for(const d of X)d.shift(b,c,0);for(const d of this.g)d.shift(b,c,0);for(const d of this.f)d.update()}C(){const a=Se(),b=this.g.slice(),c=this.f.slice(),d=this.a-this.h,e=this.c-this.m;0===d&&0===e||Kc(new class extends Hc{f(){for(const g of a)g.shift(d,
e,0);for(const g of b)g.shift(d,e,0);for(const g of c)g.update()}g(){for(const g of a)g.shift(-d,-e,0);for(const g of b)g.shift(-d,-e,0);for(const g of c)g.update()}});V()}j(){Te(X)}}class hf extends Qe{constructor(){super();this.button=this.target=null}b(){this.button=this.target=null}C(){this.button.a(this.target,!0);V()}}
function jf(a){a.result.clear();if(Hb){for(const b of a.a)a.result.add(b);for(const b of X)a.result.add(b)}else if(Jb)for(const b of X)a.a.has(b)||a.result.add(b);else if(Ib){for(const b of a.a)X.has(b)||a.result.add(b);for(const b of X)a.a.has(b)||a.result.add(b)}else for(const b of a.a)a.result.add(b)}
class kf extends Qe{constructor(){super();this.region=new Xc;this.a=new Set;this.result=new Set}b(){this.a.clear();this.result.clear()}H(a){Yc(this.region,a.g,a.f,a.x,a.y);this.region.shift(w.x,w.y);a=od(this.region);this.a.clear();for(const b of a)b instanceof Q&&this.a.add(b)}C(){jf(this);X.clear();for(const a of this.result)X.add(a);V()}j(){Pe();D.strokeStyle="#08f";const a=this.region;D.strokeRect(a.left+.5,a.top+.5,a.width-1,a.height-1);D.setLineDash([]);jf(this);Te(this.result)}}
function Ye(a){var b=Xe;Y.b();Y=b;b.type=a}
class lf extends Qe{constructor(){super();this.a=this.type=null;this.f=this.c=0}b(){this.a=this.type=null}G(a){null===this.a&&(this.a=a)}C(a){if(this.a===a){var b=new Pc,c=b.b,d=this.c*xa;d/=2;c[0]=0;c[1]=0;c[2]=oa(d);c[3]=na(d);a=Re(a);b.a.set(a);a.o();this.type.m(b,25,25,25);V()}}V(a,b){this.c=((this.c+b)%4+4)%4;this.f=0===this.c?A()+2E3:-1}j(){if(null!==this.a){var a=this.a.x;var b=this.a.y}else{if(null===z)return;a=z.x;b=z.y}a=Re(Na(a,b));D.translate(a.x,a.y);a.o();D.rotate(this.c*xa);this.type.s()&&
(-1!==this.f?(b=this.f-A(),b=0<=b?2.5E-4*b:0):b=.5,0!==b&&(D.globalAlpha=b,D.strokeStyle="green",D.beginPath(),D.moveTo(35.5,25/3),D.lineTo(35.5,-25/3),D.lineTo(43.5,0),D.closePath(),D.stroke()));D.globalAlpha=.7;D.fillStyle="white";this.type.h(25,25);D.globalAlpha=.3;this.type.c(25,25);D.globalAlpha=1;D.translate(-a.x,-a.y)}}
class mf extends Qe{constructor(){super();this.a=this.type=null}b(){this.a=this.type=null}G(a){null===this.a&&(this.a=a)}C(a){if(this.a===a){var b=Re(Na(this.a.g,this.a.f));a=Re(a);{var c=b.x;var d=b.y,e=a.x,g=a.y;const h=Vc();Yc(h,c,d,e,g);c=h}a.o();b.o();b=c.width/2;a=c.height/2;d=new Pc;d.a.x=c.left+b;d.a.y=c.top+a;bb(d.b);this.type.m(d,b+25,a+25,25);V()}}j(){D.save();if(null!==this.a){var a=Re(Na(this.a.g,this.a.f)),b=Re(this.a);{var c=a.x;var d=a.y,e=b.x,g=b.y;const h=Vc();Yc(h,c,d,e,g);c=h}b.o();
a.o();a=c.width/2;b=c.height/2;D.translate(c.left+a,c.top+b);a+=25;b+=25;D.globalAlpha=.7;D.fillStyle="white";this.type.h(a,b);D.globalAlpha=.3;this.type.c(a,b);c.o()}else null!==z&&(a=Re(z),D.translate(a.x,a.y),D.globalAlpha=.7,D.fillStyle="white",this.type.h(25,25),D.globalAlpha=.3,this.type.c(25,25),a.o());D.globalAlpha=1;D.restore()}}
class nf extends Qe{constructor(){super();this.h=this.c=this.f=this.a=this.g=null}b(){this.h=this.c=this.f=this.a=this.g=null}C(){try{if(null!==this.f&&null!==this.c&&this.a.ea(this.c)){if(this.a.a){var a=this.g;var b=this.a.index;var c=this.f;var d=this.c.index}else a=this.f,b=this.c.index,c=this.g,d=this.a.index;if(!Xd(a,b,c,d)){const e=new R(a,b,c,d);e.update();const g=id(w.v,e.a.x-w.v.x,e.a.y-w.v.y);Lc(new class extends Hc{f(){g.F(e)}g(){if(null===e)throw Error("UNDO: Wire not found");e.m()}})}}}finally{V()}}H(a){var b=
this.c=this.f=null,c=Ma(a[0],a[1]);Oa(c);a=new ud(c);for(var d of nd(c.x,c.y)){var e=d.b;e instanceof Q&&Yd(e,a,this.a?g=>g.ea(this.a):ha)&&(b=e)}c.o();a.target instanceof N&&(this.f=c=b,this.a.a?(b=this.g,d=this.a.index,e=a.target.index):(b=c,d=a.target.index,c=this.g,e=this.a.index),Xd(b,d,c,e)?this.c=null:this.c=a.target)}j(){if(!K(this.g)||this.f&&!K(this.f))V();else{if(null!==this.f&&null!==this.c){this.c.c(this.f);var a=this.f}else a=new Pc,a.a.set(this.h),a.a.x+=w.x,a.a.y+=w.y,bb(a.b);this.a.c(this.g);
D.globalAlpha=.5;be(U,this.g,this.a,a,this.c);Cd(U);D.lineWidth=2;U.j();D.lineWidth=1;D.globalAlpha=1}}}const of=new We;var Y=of,Ue=of,Ze=new hf,Xe=new lf,pf=new mf,$e=new nf,bf=new kf,ff=new gf,df=new ef;var qf;{var rf=[[49,50,51,52,53,54,55,56,57,48],[81,87,69,82,84,89,85,73,79,80],[65,83,68,70,71,72,74,75,76],[90,88,67,86,66,78,78,77]];const a=new Map;for(let b=0;b<rf.length;b++){const c=rf[b],d=me[b];if(d)for(let e=0;e<c.length;e++){const g=d[e];void 0!==g&&a.set(c[e],g)}}qf=a}
class sf extends ge{constructor(a){super();this.c=a}j(){D.fillStyle="black";D.font='bold 13px "Nanum Gothic"';D.translate(25,25);this.c.c(25,25);tf(this.c)&&(D.strokeStyle="red",D.strokeRect(-24.5,-24.5,49,49));D.translate(-25,-25)}G(){uf(this.c);return!0}}function tf(a){return Y===Xe?Xe.type===a:Y===pf?pf.type===a:!1}function uf(a){tf(a)?V():a.M()?(Y.b(),Y=pf,pf.type=a):Ye(a)}function vf(a){const b=qf.get(a);void 0!==b&&(b instanceof P?uf(b):(b.click(),b.J=!0,setTimeout(()=>{b.J=!1},100)))}
class wf extends Xb{constructor(){super();this.height=210;for(let b=0;b<me.length;b++){const c=me[b];for(let d=0;d<c.length;d++){var a=c[d];a instanceof P?(a=new sf(a,this),a.width=50,a.height=50):(a.width=46,a.height=46,a.x=2,a.y=2);a.x+=50*(d+.3*b);a.y+=50*b;this.f(a)}}}G(){return!0}j(){D.fillStyle="#ddd";D.fillRect(0,0,this.width,this.height);super.j()}}window.a("keydown",a=>{Mb(a.srcElement)&&(Ib||Jb||Hb||vf(a.keyCode))});const Z=new wf;function xf(a){const b=rb("canvas");b.style.display="block";if(!a){a=b.getContext("2d");if(null===a)throw Ca.a;D=a}return Rb=b};(function(a){function b(){c.style.width=sb+"px";c.style.height=tb+"px";c.width=ub;c.height=vb}const c=xf(a);c.style.display="block";document.body.style.margin="0";document.body.style.verticalAlign="top";document.body.style.overflow="hidden";document.body.appendChild(c);window.a("resize",b);b();return c})();Ab=!0;const yf=location.origin||location.protocol+"//"+location.hostname+(window.location.port?":"+window.location.port:""),zf={get href(){return`${yf}${location.pathname}`},get hash(){return location.hash.substr(1)},set hash(a){location.hash="#"+a},get appId(){{const a=location.pathname;if("/"===a)return"home";if(!a.startsWith("/webapp/"))return"!!invalid!!";const b=a.indexOf("/",8);return-1===b?"!!invalid!!":a.substring(8,b)}},set appId(a){location.href="home"===a?"/":"/webapp/"+a}};const Af=20*rd.reduce((a,b)=>a+b.length,0),Bf=new class extends Pb{constructor(){super();this.width=90;this.height=20;this.c=!1}s(){this.c=!0}w(){this.c=!1}j(){D.textAlign="left";D.textBaseline="middle";D.font='bold 13px "Nanum Gothic"';D.fillStyle="black";D.fillText("GCWS-v1.3.0",0,this.height/2);if(Bf.c){D.textBaseline="top";D.fillStyle="#eee";D.strokeStyle="black";let a=this.width-400-10-5,b=-Af-10;D.fillRect(a,b,410,Af+10);D.strokeRect(a-.5,b-.5,411,Af+11);D.fillStyle="black";a+=5;b+=5;for(const c of rd)for(const d of c)D.fillText(d,
a,b),b+=20}D.textBaseline="alphabetic"}};let Cf=-1;(function(a){return aa(function*(){a||(a=zf.href.substr(zf.href.indexOf("//")));const b=yield Ga(a);if(!/^[0-9]+$/.test(b))throw console.error(b),Error(b);return+b}())})().then(a=>{Cf=a});const Df=new class extends Pb{constructor(){super();this.g(90,20)}j(){-1!==Cf&&(D.textAlign="left",D.textBaseline="middle",D.font='bold 13px "Nanum Gothic"',D.fillStyle="black",D.fillText(Cf+" View,",0,this.height/2),D.textBaseline="alphabetic")}};document.title="Game Craft Wiring Simulator v1.3.0";{const a=localStorage.getItem("#wiring#save");a&&(new Oe(a)).load()}window.onbeforeunload=()=>{const a=se([...Hd[Symbol.iterator]()]);localStorage.setItem("#wiring#save",a)};const Ef=[new $d(1,0),new $d(1,3),new $d(3,3),new $d(5,3),new $d(15,3)],Ff=new xc;Ff.m=4;Ff.B=a=>{Zd=Ef[a]};G.f(Z);Z.f(Ff);Z.f(Bf);Z.f(Df);
var Gf=()=>{Z.width=sb;Z.y=tb-Z.height;Bf.x=Z.width-Bf.width;Bf.y=Z.height-Bf.height;Df.x=Z.width-Bf.width-Df.width;Df.x=Z.width-Bf.width-Df.width;Df.y=Z.height-Df.height;Ff.g(20,Z.height-20-Bf.height);Ff.y=10;Ff.x=Z.width-Ff.width-10};window.a("resize",Gf);Gf();
Ub(()=>{Ed=A();var a=Array.from(Hd);L++;if(0===L%Zd.b)if(0===Zd.a){for(var b of ia(a))(b.type.fa||0===b.u.length)&&b.A();for(const c of ia(a))c.A()}else if(0!==Id)Id++,Id>=Zd.a&&(Jd=L,Id=0);else{b=!1;for(const c of ia(a))(c.type.fa||0===c.c.length)&&Ud(c)&&(b=!0);for(const c of ia(a))Ud(c)&&(b=!0);(a=b)||(Id=1)}},()=>{Ed=A();D.resetTransform();D.clearRect(0,0,Rb.width,Rb.height);G.apply();D.font='bold 13px "Nanum Gothic"';D.textAlign="center";D.textBaseline="middle";D.strokeStyle="black";w.j(sb,tb);
G.j();D.textAlign="left";D.textBaseline="alphabetic";var a=Rb.width-20;Fc!==a&&(Fc=a,Dc.length=0);for(var b=Dc.length;b<Bc.length;b++)Dc.push(Ac(Bc[b],5,a));a=25;D.font='15px "Nanum Gothic"';b=A();for(let c=Dc.length-1;0<=c;c--){D.fillStyle=Ec[c];const d=Cc[c]-b;if(0>=d)Ec.splice(c,1),Cc.splice(c,1),Dc.splice(c,1),Bc.splice(c,1);else{D.globalAlpha=1E3>d?d/1E3:1;for(const e of Dc[c])D.fillText(e.text,10,a),a+=17}}D.globalAlpha=1},1E3/30);function Hf(a){Y.H(a)}
Zb.push({j(){D.save();D.font='bold 13px "Nanum Gothic"';D.textAlign="center";D.textBaseline="middle";D.translate(-w.x,-w.y);Y.j();D.restore()}});Yb.push({G(a){Y.H(a);Y.G(a);return!0},C(a){Y.C(a)},V(a,b){Y.V(a,b)},S:Hf,H:Hf,U(a){Y.U(a)},T(a){Y.T(a)},la(){},N(a){Y.N(a)}});document.a("keydown",a=>Y.i(a.keyCode));document.a("keyup",a=>Y.l(a.keyCode));Eb=new Set([document.body,Rb]);document.oncontextmenu=fa;document.ondragstart=document.onselectstart=fa;
document.documentElement.style[pb.userSelect.name]="none";}).call(this);
//# sourceMappingURL=index.html.map</script></body></html>